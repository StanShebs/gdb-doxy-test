<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GDB (xrefs): /home/stan/gdb/src/gdb/go-lang.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GDB (xrefs)
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/home/stan/gdb/src/gdb/go-lang.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="go-lang_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Go language support routines for GDB, the GNU debugger.</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">   Copyright (C) 2012-2013 Free Software Foundation, Inc.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">   This file is part of GDB.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">   This program is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment">   it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment">   the Free Software Foundation; either version 3 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment">   (at your option) any later version.</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">   This program is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment">   GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">   You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.  */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/* TODO:</span>
<a name="l00021"></a>00021 <span class="comment">   - split stacks</span>
<a name="l00022"></a>00022 <span class="comment">   - printing of native types</span>
<a name="l00023"></a>00023 <span class="comment">   - goroutines</span>
<a name="l00024"></a>00024 <span class="comment">   - lots more</span>
<a name="l00025"></a>00025 <span class="comment">   - gccgo mangling needs redoing</span>
<a name="l00026"></a>00026 <span class="comment">     It&#39;s too hard, for example, to know whether one is looking at a mangled</span>
<a name="l00027"></a>00027 <span class="comment">     Go symbol or not, and their are ambiguities, e.g., the demangler may</span>
<a name="l00028"></a>00028 <span class="comment">     get passed *any* symbol, including symbols from other languages</span>
<a name="l00029"></a>00029 <span class="comment">     and including symbols that are already demangled.</span>
<a name="l00030"></a>00030 <span class="comment">     One thought is to at least add an _G prefix.</span>
<a name="l00031"></a>00031 <span class="comment">   - 6g mangling isn&#39;t supported yet</span>
<a name="l00032"></a>00032 <span class="comment">*/</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="defs_8h.html">defs.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="gdb__assert_8h.html">gdb_assert.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="gdb__obstack_8h.html">gdb_obstack.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gdb__string_8h.html">gdb_string.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="block_8h.html">block.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="symtab_8h.html">symtab.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="language_8h.html">language.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="go-lang_8h.html">go-lang.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="c-lang_8h.html">c-lang.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="parser-defs_8h.html">parser-defs.h</a>&quot;</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">/* The main function in the main package.  */</span>
<a name="l00048"></a><a class="code" href="go-lang_8c.html#a6e713caed66af7bb5f9894e1f5894581">00048</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="go-lang_8c.html#a6e713caed66af7bb5f9894e1f5894581">GO_MAIN_MAIN</a>[] = <span class="stringliteral">&quot;main.main&quot;</span>;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">/* Function returning the special symbol name used by Go for the main</span>
<a name="l00051"></a>00051 <span class="comment">   procedure in the main program if it is found in minimal symbol list.</span>
<a name="l00052"></a>00052 <span class="comment">   This function tries to find minimal symbols so that it finds them even</span>
<a name="l00053"></a>00053 <span class="comment">   if the program was compiled without debugging information.  */</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="keyword">const</span> <span class="keywordtype">char</span> *
<a name="l00056"></a><a class="code" href="go-lang_8h.html#a7d2b17357974f65e529c8f493b959846">00056</a> <a class="code" href="go-lang_8c.html#a7d2b17357974f65e529c8f493b959846">go_main_name</a> (<span class="keywordtype">void</span>)
<a name="l00057"></a>00057 {
<a name="l00058"></a>00058   <span class="keyword">struct </span><a class="code" href="structminimal__symbol.html">minimal_symbol</a> *msym;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   msym = <a class="code" href="minsyms_8c.html#af87f7a894386515074ddd71365bc09b8">lookup_minimal_symbol</a> (<a class="code" href="go-lang_8c.html#a6e713caed66af7bb5f9894e1f5894581">GO_MAIN_MAIN</a>, NULL, NULL);
<a name="l00061"></a>00061   <span class="keywordflow">if</span> (msym != NULL)
<a name="l00062"></a>00062     <span class="keywordflow">return</span> <a class="code" href="go-lang_8c.html#a6e713caed66af7bb5f9894e1f5894581">GO_MAIN_MAIN</a>;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064   <span class="comment">/* No known entry procedure found, the main program is probably not Go.  */</span>
<a name="l00065"></a>00065   <span class="keywordflow">return</span> NULL;
<a name="l00066"></a>00066 }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">/* Return non-zero if TYPE is a gccgo string.</span>
<a name="l00069"></a>00069 <span class="comment">   We assume CHECK_TYPEDEF has already been done.  */</span>
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00072"></a><a class="code" href="go-lang_8c.html#aaf93252e0c679b863a387637a335c63b">00072</a> <a class="code" href="go-lang_8c.html#aaf93252e0c679b863a387637a335c63b">gccgo_string_p</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>)
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074   <span class="comment">/* gccgo strings don&#39;t necessarily have a name we can use.  */</span>
<a name="l00075"></a>00075 
<a name="l00076"></a>00076   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type) == 2)
<a name="l00077"></a>00077     {
<a name="l00078"></a>00078       <span class="keyword">struct </span>type *type0 = <a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, 0);
<a name="l00079"></a>00079       <span class="keyword">struct </span>type *type1 = <a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, 1);
<a name="l00080"></a>00080 
<a name="l00081"></a>00081       <a class="code" href="gdbtypes_8h.html#ae2f9348c644babaa9038b4dc18bffaac">CHECK_TYPEDEF</a> (type0);
<a name="l00082"></a>00082       <a class="code" href="gdbtypes_8h.html#ae2f9348c644babaa9038b4dc18bffaac">CHECK_TYPEDEF</a> (type1);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084       <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type0) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1a639160f3e3a2f9f7ac55255942c581">TYPE_CODE_PTR</a>
<a name="l00085"></a>00085           &amp;&amp; strcmp (<a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, 0), <span class="stringliteral">&quot;__data&quot;</span>) == 0
<a name="l00086"></a>00086           &amp;&amp; <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type1) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a7071a71840688811b992838bb09d0ddd">TYPE_CODE_INT</a>
<a name="l00087"></a>00087           &amp;&amp; strcmp (<a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, 1), <span class="stringliteral">&quot;__length&quot;</span>) == 0)
<a name="l00088"></a>00088         {
<a name="l00089"></a>00089           <span class="keyword">struct </span>type *target_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type0);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091           <a class="code" href="gdbtypes_8h.html#ae2f9348c644babaa9038b4dc18bffaac">CHECK_TYPEDEF</a> (target_type);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093           <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (target_type) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a7071a71840688811b992838bb09d0ddd">TYPE_CODE_INT</a>
<a name="l00094"></a>00094               &amp;&amp; <a class="code" href="gdbtypes_8h.html#aeac33f868e763780094aec8a2dcb9a1a">TYPE_LENGTH</a> (target_type) == 1
<a name="l00095"></a>00095               &amp;&amp; strcmp (<a class="code" href="gdbtypes_8h.html#a60f6434779617e9ff9c60121ceb25015">TYPE_NAME</a> (target_type), <span class="stringliteral">&quot;uint8&quot;</span>) == 0)
<a name="l00096"></a>00096             <span class="keywordflow">return</span> 1;
<a name="l00097"></a>00097         }
<a name="l00098"></a>00098     }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="keywordflow">return</span> 0;
<a name="l00101"></a>00101 }
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/* Return non-zero if TYPE is a 6g string.</span>
<a name="l00104"></a>00104 <span class="comment">   We assume CHECK_TYPEDEF has already been done.  */</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00107"></a><a class="code" href="go-lang_8c.html#ab3a55dcabddd1cbd2d98c41d43282e70">00107</a> <a class="code" href="go-lang_8c.html#ab3a55dcabddd1cbd2d98c41d43282e70">sixg_string_p</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>)
<a name="l00108"></a>00108 {
<a name="l00109"></a>00109   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type) == 2
<a name="l00110"></a>00110       &amp;&amp; <a class="code" href="gdbtypes_8h.html#acb2abdd2de64c35b3041ddfe1aa64099">TYPE_TAG_NAME</a> (type) != NULL
<a name="l00111"></a>00111       &amp;&amp; strcmp (<a class="code" href="gdbtypes_8h.html#acb2abdd2de64c35b3041ddfe1aa64099">TYPE_TAG_NAME</a> (type), <span class="stringliteral">&quot;string&quot;</span>) == 0)
<a name="l00112"></a>00112     <span class="keywordflow">return</span> 1;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   <span class="keywordflow">return</span> 0;
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">/* Classify the kind of Go object that TYPE is.</span>
<a name="l00118"></a>00118 <span class="comment">   TYPE is a TYPE_CODE_STRUCT, used to represent a Go object.  */</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="keyword">enum</span> <a class="code" href="go-lang_8h.html#a4495a9966229eaf70ff18ce597cd1596">go_type</a>
<a name="l00121"></a><a class="code" href="go-lang_8h.html#a378abb4ed8ca860660090fbae3dc4b80">00121</a> <a class="code" href="go-lang_8c.html#a378abb4ed8ca860660090fbae3dc4b80">go_classify_struct_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>)
<a name="l00122"></a>00122 {
<a name="l00123"></a>00123   <a class="code" href="gdbtypes_8h.html#ae2f9348c644babaa9038b4dc18bffaac">CHECK_TYPEDEF</a> (type);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125   <span class="comment">/* Recognize strings as they&#39;re useful to be able to print without</span>
<a name="l00126"></a>00126 <span class="comment">     pretty-printers.  */</span>
<a name="l00127"></a>00127   <span class="keywordflow">if</span> (<a class="code" href="go-lang_8c.html#aaf93252e0c679b863a387637a335c63b">gccgo_string_p</a> (type)
<a name="l00128"></a>00128       || <a class="code" href="go-lang_8c.html#ab3a55dcabddd1cbd2d98c41d43282e70">sixg_string_p</a> (type))
<a name="l00129"></a>00129     <span class="keywordflow">return</span> <a class="code" href="go-lang_8h.html#a4495a9966229eaf70ff18ce597cd1596a316665560a6b9e8ecb35fdd500b064b5">GO_TYPE_STRING</a>;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131   <span class="keywordflow">return</span> <a class="code" href="go-lang_8h.html#a4495a9966229eaf70ff18ce597cd1596a5702ab51f3f51656556186d0a0ce59d1">GO_TYPE_NONE</a>;
<a name="l00132"></a>00132 }
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="comment">/* Subroutine of unpack_mangled_go_symbol to simplify it.</span>
<a name="l00135"></a>00135 <span class="comment">   Given &quot;[foo.]bar.baz&quot;, store &quot;bar&quot; in *PACKAGEP and &quot;baz&quot; in *OBJECTP.</span>
<a name="l00136"></a>00136 <span class="comment">   We stomp on the last &#39;.&#39; to nul-terminate &quot;bar&quot;.</span>
<a name="l00137"></a>00137 <span class="comment">   The caller is responsible for memory management.  */</span>
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00140"></a><a class="code" href="go-lang_8c.html#a682a12bf99ebfc4315bd11443f770cef">00140</a> <a class="code" href="go-lang_8c.html#a682a12bf99ebfc4315bd11443f770cef">unpack_package_and_object</a> (<span class="keywordtype">char</span> *buf,
<a name="l00141"></a>00141                            <span class="keyword">const</span> <span class="keywordtype">char</span> **packagep, <span class="keyword">const</span> <span class="keywordtype">char</span> **objectp)
<a name="l00142"></a>00142 {
<a name="l00143"></a>00143   <span class="keywordtype">char</span> *last_dot;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145   last_dot = <a class="code" href="gdb__string_8h.html#a5cbb8bbfc7174d9468b1853f1031efb3">strrchr</a> (buf, <span class="charliteral">&#39;.&#39;</span>);
<a name="l00146"></a>00146   <a class="code" href="gdb__assert_8h.html#aeb007d3e990858c7ef8e40a7e512c1ff">gdb_assert</a> (last_dot != NULL);
<a name="l00147"></a>00147   *objectp = last_dot + 1;
<a name="l00148"></a>00148   *last_dot = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00149"></a>00149   last_dot = <a class="code" href="gdb__string_8h.html#a5cbb8bbfc7174d9468b1853f1031efb3">strrchr</a> (buf, <span class="charliteral">&#39;.&#39;</span>);
<a name="l00150"></a>00150   <span class="keywordflow">if</span> (last_dot != NULL)
<a name="l00151"></a>00151     *packagep = last_dot + 1;
<a name="l00152"></a>00152   <span class="keywordflow">else</span>
<a name="l00153"></a>00153     *packagep = buf;
<a name="l00154"></a>00154 }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="comment">/* Given a mangled Go symbol, find its package name, object name, and</span>
<a name="l00157"></a>00157 <span class="comment">   method type (if present).</span>
<a name="l00158"></a>00158 <span class="comment">   E.g., for &quot;libgo_net.textproto.String.N33_libgo_net.textproto.ProtocolError&quot;</span>
<a name="l00159"></a>00159 <span class="comment">   *PACKAGEP = &quot;textproto&quot;</span>
<a name="l00160"></a>00160 <span class="comment">   *OBJECTP = &quot;String&quot;</span>
<a name="l00161"></a>00161 <span class="comment">   *METHOD_TYPE_PACKAGEP = &quot;textproto&quot;</span>
<a name="l00162"></a>00162 <span class="comment">   *METHOD_TYPE_OBJECTP = &quot;ProtocolError&quot;</span>
<a name="l00163"></a>00163 <span class="comment"></span>
<a name="l00164"></a>00164 <span class="comment">   Space for the resulting strings is malloc&#39;d in one buffer.</span>
<a name="l00165"></a>00165 <span class="comment">   PACKAGEP,OBJECTP,METHOD_TYPE* will (typically) point into this buffer.</span>
<a name="l00166"></a>00166 <span class="comment">   [There are a few exceptions, but the caller is still responsible for</span>
<a name="l00167"></a>00167 <span class="comment">   freeing the resulting pointer.]</span>
<a name="l00168"></a>00168 <span class="comment">   A pointer to this buffer is returned, or NULL if symbol isn&#39;t a</span>
<a name="l00169"></a>00169 <span class="comment">   mangled Go symbol.</span>
<a name="l00170"></a>00170 <span class="comment">   The caller is responsible for freeing the result.</span>
<a name="l00171"></a>00171 <span class="comment"></span>
<a name="l00172"></a>00172 <span class="comment">   *METHOD_TYPE_IS_POINTERP is set to a boolean indicating if</span>
<a name="l00173"></a>00173 <span class="comment">   the method type is a pointer.</span>
<a name="l00174"></a>00174 <span class="comment"></span>
<a name="l00175"></a>00175 <span class="comment">   There may be value in returning the outer container,</span>
<a name="l00176"></a>00176 <span class="comment">   i.e., &quot;net&quot; in the above example, but for now it&#39;s not needed.</span>
<a name="l00177"></a>00177 <span class="comment">   Plus it&#39;s currently not straightforward to compute,</span>
<a name="l00178"></a>00178 <span class="comment">   it comes from -fgo-prefix, and there&#39;s no algorithm to compute it.</span>
<a name="l00179"></a>00179 <span class="comment"></span>
<a name="l00180"></a>00180 <span class="comment">   If we ever need to unpack the method type, this routine should work</span>
<a name="l00181"></a>00181 <span class="comment">   for that too.  */</span>
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="keyword">static</span> <span class="keywordtype">char</span> *
<a name="l00184"></a><a class="code" href="go-lang_8c.html#acf6cfb353c3f9e8af45dccb3441889e2">00184</a> <a class="code" href="go-lang_8c.html#acf6cfb353c3f9e8af45dccb3441889e2">unpack_mangled_go_symbol</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *mangled_name,
<a name="l00185"></a>00185                           <span class="keyword">const</span> <span class="keywordtype">char</span> **packagep,
<a name="l00186"></a>00186                           <span class="keyword">const</span> <span class="keywordtype">char</span> **objectp,
<a name="l00187"></a>00187                           <span class="keyword">const</span> <span class="keywordtype">char</span> **method_type_packagep,
<a name="l00188"></a>00188                           <span class="keyword">const</span> <span class="keywordtype">char</span> **method_type_objectp,
<a name="l00189"></a>00189                           <span class="keywordtype">int</span> *method_type_is_pointerp)
<a name="l00190"></a>00190 {
<a name="l00191"></a>00191   <span class="keywordtype">char</span> *buf;
<a name="l00192"></a>00192   <span class="keywordtype">char</span> *<a class="code" href="windows-nat_8c.html#ade66e4ccafbc33b117610bbc0d85feb0">p</a>;
<a name="l00193"></a>00193   <span class="keywordtype">int</span> <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a> = strlen (mangled_name);
<a name="l00194"></a>00194   <span class="comment">/* Pointer to last digit in &quot;N&lt;digit(s)&gt;_&quot;.  */</span>
<a name="l00195"></a>00195   <span class="keywordtype">char</span> *saw_digit;
<a name="l00196"></a>00196   <span class="comment">/* Pointer to &quot;N&quot; if valid &quot;N&lt;digit(s)&gt;_&quot; found.  */</span>
<a name="l00197"></a>00197   <span class="keywordtype">char</span> *method_type;
<a name="l00198"></a>00198   <span class="comment">/* Pointer to the first &#39;.&#39;.  */</span>
<a name="l00199"></a>00199   <span class="keywordtype">char</span> *first_dot;
<a name="l00200"></a>00200   <span class="comment">/* Pointer to the last &#39;.&#39;.  */</span>
<a name="l00201"></a>00201   <span class="keywordtype">char</span> *last_dot;
<a name="l00202"></a>00202   <span class="comment">/* Non-zero if we saw a pointer indicator.  */</span>
<a name="l00203"></a>00203   <span class="keywordtype">int</span> saw_pointer;
<a name="l00204"></a>00204 
<a name="l00205"></a>00205   *packagep = *objectp = NULL;
<a name="l00206"></a>00206   *method_type_packagep = *method_type_objectp = NULL;
<a name="l00207"></a>00207   *method_type_is_pointerp = 0;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <span class="comment">/* main.init is mangled specially.  */</span>
<a name="l00210"></a>00210   <span class="keywordflow">if</span> (strcmp (mangled_name, <span class="stringliteral">&quot;__go_init_main&quot;</span>) == 0)
<a name="l00211"></a>00211     {
<a name="l00212"></a>00212       <span class="keywordtype">char</span> *<span class="keyword">package </span>= xstrdup (&quot;main&quot;);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214       *packagep = package;
<a name="l00215"></a>00215       *objectp = <span class="stringliteral">&quot;init&quot;</span>;
<a name="l00216"></a>00216       <span class="keywordflow">return</span> package;
<a name="l00217"></a>00217     }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219   <span class="comment">/* main.main is mangled specially (missing prefix).  */</span>
<a name="l00220"></a>00220   <span class="keywordflow">if</span> (strcmp (mangled_name, <span class="stringliteral">&quot;main.main&quot;</span>) == 0)
<a name="l00221"></a>00221     {
<a name="l00222"></a>00222       <span class="keywordtype">char</span> *<span class="keyword">package </span>= xstrdup (&quot;main&quot;);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224       *packagep = package;
<a name="l00225"></a>00225       *objectp = <span class="stringliteral">&quot;main&quot;</span>;
<a name="l00226"></a>00226       <span class="keywordflow">return</span> package;
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   <span class="comment">/* We may get passed, e.g., &quot;main.T.Foo&quot;, which is *not* mangled.</span>
<a name="l00230"></a>00230 <span class="comment">     Alas it looks exactly like &quot;prefix.package.object.&quot;</span>
<a name="l00231"></a>00231 <span class="comment">     To cope for now we only recognize the following prefixes:</span>
<a name="l00232"></a>00232 <span class="comment"></span>
<a name="l00233"></a>00233 <span class="comment">     go: the default</span>
<a name="l00234"></a>00234 <span class="comment">     libgo_.*: used by gccgo&#39;s runtime</span>
<a name="l00235"></a>00235 <span class="comment"></span>
<a name="l00236"></a>00236 <span class="comment">     Thus we don&#39;t support -fgo-prefix (except as used by the runtime).  */</span>
<a name="l00237"></a>00237   <span class="keywordflow">if</span> (strncmp (mangled_name, <span class="stringliteral">&quot;go.&quot;</span>, 3) != 0
<a name="l00238"></a>00238       &amp;&amp; strncmp (mangled_name, <span class="stringliteral">&quot;libgo_&quot;</span>, 6) != 0)
<a name="l00239"></a>00239     <span class="keywordflow">return</span> NULL;
<a name="l00240"></a>00240 
<a name="l00241"></a>00241   <span class="comment">/* Quick check for whether a search may be fruitful.  */</span>
<a name="l00242"></a>00242   <span class="comment">/* Ignore anything with @plt, etc. in it.  */</span>
<a name="l00243"></a>00243   <span class="keywordflow">if</span> (<a class="code" href="gdb__string_8h.html#adf46aa8f2e08cfb505868bbfc88b5fd4">strchr</a> (mangled_name, <span class="charliteral">&#39;@&#39;</span>) != NULL)
<a name="l00244"></a>00244     <span class="keywordflow">return</span> NULL;
<a name="l00245"></a>00245   <span class="comment">/* It must have at least two dots.  */</span>
<a name="l00246"></a>00246   first_dot = <a class="code" href="gdb__string_8h.html#adf46aa8f2e08cfb505868bbfc88b5fd4">strchr</a> (mangled_name, <span class="charliteral">&#39;.&#39;</span>);
<a name="l00247"></a>00247   <span class="keywordflow">if</span> (first_dot == NULL)
<a name="l00248"></a>00248     <span class="keywordflow">return</span> NULL;
<a name="l00249"></a>00249   <span class="comment">/* Treat &quot;foo.bar&quot; as unmangled.  It can collide with lots of other</span>
<a name="l00250"></a>00250 <span class="comment">     languages and it&#39;s not clear what the consequences are.</span>
<a name="l00251"></a>00251 <span class="comment">     And except for main.main, all gccgo symbols are at least</span>
<a name="l00252"></a>00252 <span class="comment">     prefix.package.object.  */</span>
<a name="l00253"></a>00253   last_dot = <a class="code" href="gdb__string_8h.html#a5cbb8bbfc7174d9468b1853f1031efb3">strrchr</a> (mangled_name, <span class="charliteral">&#39;.&#39;</span>);
<a name="l00254"></a>00254   <span class="keywordflow">if</span> (last_dot == first_dot)
<a name="l00255"></a>00255     <span class="keywordflow">return</span> NULL;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257   <span class="comment">/* More quick checks.  */</span>
<a name="l00258"></a>00258   <span class="keywordflow">if</span> (last_dot[1] == <span class="charliteral">&#39;\0&#39;</span> <span class="comment">/* foo. */</span>
<a name="l00259"></a>00259       || last_dot[-1] == <span class="charliteral">&#39;.&#39;</span>) <span class="comment">/* foo..bar */</span>
<a name="l00260"></a>00260     <span class="keywordflow">return</span> NULL;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262   <span class="comment">/* At this point we&#39;ve decided we have a mangled Go symbol.  */</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264   buf = xstrdup (mangled_name);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   <span class="comment">/* Search backwards looking for &quot;N&lt;digit(s)&gt;&quot;.  */</span>
<a name="l00267"></a>00267   p = buf + <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a>;
<a name="l00268"></a>00268   saw_digit = method_type = NULL;
<a name="l00269"></a>00269   saw_pointer = 0;
<a name="l00270"></a>00270   <span class="keywordflow">while</span> (p &gt; buf)
<a name="l00271"></a>00271     {
<a name="l00272"></a>00272       <span class="keywordtype">int</span> current = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) --p;
<a name="l00273"></a>00273       <span class="keywordtype">int</span> current_is_digit = isdigit (current);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275       <span class="keywordflow">if</span> (saw_digit)
<a name="l00276"></a>00276         {
<a name="l00277"></a>00277           <span class="keywordflow">if</span> (current_is_digit)
<a name="l00278"></a>00278             <span class="keywordflow">continue</span>;
<a name="l00279"></a>00279           <span class="keywordflow">if</span> (current == <span class="charliteral">&#39;N&#39;</span>
<a name="l00280"></a>00280               &amp;&amp; ((p &gt; buf &amp;&amp; p[-1] == <span class="charliteral">&#39;.&#39;</span>)
<a name="l00281"></a>00281                   || (p &gt; buf + 1 &amp;&amp; p[-1] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; p[-2] == <span class="charliteral">&#39;.&#39;</span>)))
<a name="l00282"></a>00282             {
<a name="l00283"></a>00283               <span class="keywordflow">if</span> (atoi (p + 1) == strlen (saw_digit + 2))
<a name="l00284"></a>00284                 {
<a name="l00285"></a>00285                   <span class="keywordflow">if</span> (p[-1] == <span class="charliteral">&#39;.&#39;</span>)
<a name="l00286"></a>00286                     method_type = p - 1;
<a name="l00287"></a>00287                   <span class="keywordflow">else</span>
<a name="l00288"></a>00288                     {
<a name="l00289"></a>00289                       <a class="code" href="gdb__assert_8h.html#aeb007d3e990858c7ef8e40a7e512c1ff">gdb_assert</a> (p[-1] == <span class="charliteral">&#39;p&#39;</span>);
<a name="l00290"></a>00290                       saw_pointer = 1;
<a name="l00291"></a>00291                       method_type = p - 2;
<a name="l00292"></a>00292                     }
<a name="l00293"></a>00293                   <span class="keywordflow">break</span>;
<a name="l00294"></a>00294                 }
<a name="l00295"></a>00295             }
<a name="l00296"></a>00296           <span class="comment">/* Not what we&#39;re looking for, reset and keep looking.  */</span>
<a name="l00297"></a>00297           saw_digit = NULL;
<a name="l00298"></a>00298           saw_pointer = 0;
<a name="l00299"></a>00299           <span class="keywordflow">continue</span>;
<a name="l00300"></a>00300         }
<a name="l00301"></a>00301       <span class="keywordflow">if</span> (current_is_digit &amp;&amp; p[1] == <span class="charliteral">&#39;_&#39;</span>)
<a name="l00302"></a>00302         {
<a name="l00303"></a>00303           <span class="comment">/* Possible start of method &quot;this&quot; [sic] type.  */</span>
<a name="l00304"></a>00304           saw_digit = p;
<a name="l00305"></a>00305           <span class="keywordflow">continue</span>;
<a name="l00306"></a>00306         }
<a name="l00307"></a>00307     }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309   <span class="keywordflow">if</span> (method_type != NULL
<a name="l00310"></a>00310       <span class="comment">/* Ensure not something like &quot;..foo&quot;.  */</span>
<a name="l00311"></a>00311       &amp;&amp; (method_type &gt; buf &amp;&amp; method_type[-1] != <span class="charliteral">&#39;.&#39;</span>))
<a name="l00312"></a>00312     {
<a name="l00313"></a>00313       <a class="code" href="go-lang_8c.html#a682a12bf99ebfc4315bd11443f770cef">unpack_package_and_object</a> (saw_digit + 2,
<a name="l00314"></a>00314                                  method_type_packagep, method_type_objectp);
<a name="l00315"></a>00315       *method_type = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00316"></a>00316       *method_type_is_pointerp = saw_pointer;
<a name="l00317"></a>00317     }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319   <a class="code" href="go-lang_8c.html#a682a12bf99ebfc4315bd11443f770cef">unpack_package_and_object</a> (buf, packagep, objectp);
<a name="l00320"></a>00320   <span class="keywordflow">return</span> buf;
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">/* Implements the la_demangle language_defn routine for language Go.</span>
<a name="l00324"></a>00324 <span class="comment"></span>
<a name="l00325"></a>00325 <span class="comment">   N.B. This may get passed *any* symbol, including symbols from other</span>
<a name="l00326"></a>00326 <span class="comment">   languages and including symbols that are already demangled.</span>
<a name="l00327"></a>00327 <span class="comment">   Both of these situations are kinda unfortunate, but that&#39;s how things</span>
<a name="l00328"></a>00328 <span class="comment">   are today.</span>
<a name="l00329"></a>00329 <span class="comment"></span>
<a name="l00330"></a>00330 <span class="comment">   N.B. This currently only supports gccgo&#39;s mangling.</span>
<a name="l00331"></a>00331 <span class="comment"></span>
<a name="l00332"></a>00332 <span class="comment">   N.B. gccgo&#39;s mangling needs, I think, changing.</span>
<a name="l00333"></a>00333 <span class="comment">   This demangler can&#39;t work in all situations,</span>
<a name="l00334"></a>00334 <span class="comment">   thus not too much effort is currently put into it.  */</span>
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="keywordtype">char</span> *
<a name="l00337"></a><a class="code" href="go-lang_8h.html#ac1c08f55fc7533d1c53b5605400c8f0a">00337</a> <a class="code" href="go-lang_8c.html#a0dea6d39f3acd076cd314429ef14e0f6">go_demangle</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *mangled_name, <span class="keywordtype">int</span> options)
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339   <span class="keyword">struct </span>obstack tempbuf;
<a name="l00340"></a>00340   <span class="keywordtype">char</span> *result;
<a name="l00341"></a>00341   <span class="keywordtype">char</span> *name_buf;
<a name="l00342"></a>00342   <span class="keyword">const</span> <span class="keywordtype">char</span> *package_name;
<a name="l00343"></a>00343   <span class="keyword">const</span> <span class="keywordtype">char</span> *object_name;
<a name="l00344"></a>00344   <span class="keyword">const</span> <span class="keywordtype">char</span> *method_type_package_name;
<a name="l00345"></a>00345   <span class="keyword">const</span> <span class="keywordtype">char</span> *method_type_object_name;
<a name="l00346"></a>00346   <span class="keywordtype">int</span> method_type_is_pointer;
<a name="l00347"></a>00347 
<a name="l00348"></a>00348   <span class="keywordflow">if</span> (mangled_name == NULL)
<a name="l00349"></a>00349     <span class="keywordflow">return</span> NULL;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351   name_buf = <a class="code" href="go-lang_8c.html#acf6cfb353c3f9e8af45dccb3441889e2">unpack_mangled_go_symbol</a> (mangled_name,
<a name="l00352"></a>00352                                        &amp;package_name, &amp;object_name,
<a name="l00353"></a>00353                                        &amp;method_type_package_name,
<a name="l00354"></a>00354                                        &amp;method_type_object_name,
<a name="l00355"></a>00355                                        &amp;method_type_is_pointer);
<a name="l00356"></a>00356   <span class="keywordflow">if</span> (name_buf == NULL)
<a name="l00357"></a>00357     <span class="keywordflow">return</span> NULL;
<a name="l00358"></a>00358 
<a name="l00359"></a>00359   obstack_init (&amp;tempbuf);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361   <span class="comment">/* Print methods as they appear in &quot;method expressions&quot;.  */</span>
<a name="l00362"></a>00362   <span class="keywordflow">if</span> (method_type_package_name != NULL)
<a name="l00363"></a>00363     {
<a name="l00364"></a>00364       <span class="comment">/* FIXME: Seems like we should include package_name here somewhere.  */</span>
<a name="l00365"></a>00365       <span class="keywordflow">if</span> (method_type_is_pointer)
<a name="l00366"></a>00366           <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, <span class="stringliteral">&quot;(*&quot;</span>);
<a name="l00367"></a>00367       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, method_type_package_name);
<a name="l00368"></a>00368       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, <span class="stringliteral">&quot;.&quot;</span>);
<a name="l00369"></a>00369       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, method_type_object_name);
<a name="l00370"></a>00370       <span class="keywordflow">if</span> (method_type_is_pointer)
<a name="l00371"></a>00371         <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l00372"></a>00372       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, <span class="stringliteral">&quot;.&quot;</span>);
<a name="l00373"></a>00373       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, object_name);
<a name="l00374"></a>00374     }
<a name="l00375"></a>00375   <span class="keywordflow">else</span>
<a name="l00376"></a>00376     {
<a name="l00377"></a>00377       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, package_name);
<a name="l00378"></a>00378       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, <span class="stringliteral">&quot;.&quot;</span>);
<a name="l00379"></a>00379       <a class="code" href="gdb__obstack_8h.html#ad63a308f9ac70a0922f8043991d9a205">obstack_grow_str</a> (&amp;tempbuf, object_name);
<a name="l00380"></a>00380     }
<a name="l00381"></a>00381   <a class="code" href="gdb__obstack_8h.html#a33a401214fbeb33af25499e39697e2b9">obstack_grow_str0</a> (&amp;tempbuf, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00382"></a>00382 
<a name="l00383"></a>00383   result = xstrdup (obstack_finish (&amp;tempbuf));
<a name="l00384"></a>00384   obstack_free (&amp;tempbuf, NULL);
<a name="l00385"></a>00385   <a class="code" href="common-utils_8c.html#a976e14808b9247ec952c262553f09f8f">xfree</a> (name_buf);
<a name="l00386"></a>00386   <span class="keywordflow">return</span> result;
<a name="l00387"></a>00387 }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 <span class="comment">/* Given a Go symbol, return its package or NULL if unknown.</span>
<a name="l00390"></a>00390 <span class="comment">   Space for the result is malloc&#39;d, caller must free.  */</span>
<a name="l00391"></a>00391 
<a name="l00392"></a>00392 <span class="keywordtype">char</span> *
<a name="l00393"></a><a class="code" href="go-lang_8h.html#afb96762a454f135b93f4facfe01c0890">00393</a> <a class="code" href="go-lang_8c.html#afb96762a454f135b93f4facfe01c0890">go_symbol_package_name</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structsymbol.html">symbol</a> *sym)
<a name="l00394"></a>00394 {
<a name="l00395"></a>00395   <span class="keyword">const</span> <span class="keywordtype">char</span> *mangled_name = <a class="code" href="symtab_8h.html#a956b56288511a18b855d8a263d60e87f">SYMBOL_LINKAGE_NAME</a> (sym);
<a name="l00396"></a>00396   <span class="keyword">const</span> <span class="keywordtype">char</span> *package_name;
<a name="l00397"></a>00397   <span class="keyword">const</span> <span class="keywordtype">char</span> *object_name;
<a name="l00398"></a>00398   <span class="keyword">const</span> <span class="keywordtype">char</span> *method_type_package_name;
<a name="l00399"></a>00399   <span class="keyword">const</span> <span class="keywordtype">char</span> *method_type_object_name;
<a name="l00400"></a>00400   <span class="keywordtype">int</span> method_type_is_pointer;
<a name="l00401"></a>00401   <span class="keywordtype">char</span> *name_buf;
<a name="l00402"></a>00402   <span class="keywordtype">char</span> *result;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404   <a class="code" href="gdb__assert_8h.html#aeb007d3e990858c7ef8e40a7e512c1ff">gdb_assert</a> (<a class="code" href="symtab_8h.html#a82fc22e60b1007c826a5ebf7d6593e78">SYMBOL_LANGUAGE</a> (sym) == <a class="code" href="defs_8h.html#aa37aa8979934d47ac32fd96ecff32202a702bd2253975155cace46837f64a702a">language_go</a>);
<a name="l00405"></a>00405   name_buf = <a class="code" href="go-lang_8c.html#acf6cfb353c3f9e8af45dccb3441889e2">unpack_mangled_go_symbol</a> (mangled_name,
<a name="l00406"></a>00406                                        &amp;package_name, &amp;object_name,
<a name="l00407"></a>00407                                        &amp;method_type_package_name,
<a name="l00408"></a>00408                                        &amp;method_type_object_name,
<a name="l00409"></a>00409                                        &amp;method_type_is_pointer);
<a name="l00410"></a>00410   <span class="comment">/* Some Go symbols don&#39;t have mangled form we interpret (yet).  */</span>
<a name="l00411"></a>00411   <span class="keywordflow">if</span> (name_buf == NULL)
<a name="l00412"></a>00412     <span class="keywordflow">return</span> NULL;
<a name="l00413"></a>00413   result = xstrdup (package_name);
<a name="l00414"></a>00414   <a class="code" href="common-utils_8c.html#a976e14808b9247ec952c262553f09f8f">xfree</a> (name_buf);
<a name="l00415"></a>00415   <span class="keywordflow">return</span> result;
<a name="l00416"></a>00416 }
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 <span class="comment">/* Return the package that BLOCK is in, or NULL if there isn&#39;t one.</span>
<a name="l00419"></a>00419 <span class="comment">   Space for the result is malloc&#39;d, caller must free.  */</span>
<a name="l00420"></a>00420 
<a name="l00421"></a>00421 <span class="keywordtype">char</span> *
<a name="l00422"></a><a class="code" href="go-lang_8h.html#a104be0b80764d5d0a798e841e44d44d0">00422</a> <a class="code" href="go-lang_8c.html#a104be0b80764d5d0a798e841e44d44d0">go_block_package_name</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structblock.html">block</a> *<a class="code" href="structblock.html">block</a>)
<a name="l00423"></a>00423 {
<a name="l00424"></a>00424   <span class="keywordflow">while</span> (block != NULL)
<a name="l00425"></a>00425     {
<a name="l00426"></a>00426       <span class="keyword">struct </span><a class="code" href="structsymbol.html">symbol</a> *<span class="keyword">function</span> = <a class="code" href="block_8h.html#aeea4a00e65c2be0c8674106f38d8ab65">BLOCK_FUNCTION</a> (block);
<a name="l00427"></a>00427 
<a name="l00428"></a>00428       <span class="keywordflow">if</span> (<span class="keyword">function</span> != NULL)
<a name="l00429"></a>00429         {
<a name="l00430"></a>00430           <span class="keywordtype">char</span> *package_name = <a class="code" href="go-lang_8c.html#afb96762a454f135b93f4facfe01c0890">go_symbol_package_name</a> (<span class="keyword">function</span>);
<a name="l00431"></a>00431 
<a name="l00432"></a>00432           <span class="keywordflow">if</span> (package_name != NULL)
<a name="l00433"></a>00433             <span class="keywordflow">return</span> package_name;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435           <span class="comment">/* Stop looking if we find a function without a package name.</span>
<a name="l00436"></a>00436 <span class="comment">             We&#39;re most likely outside of Go and thus the concept of the</span>
<a name="l00437"></a>00437 <span class="comment">             &quot;current&quot; package is gone.  */</span>
<a name="l00438"></a>00438           <span class="keywordflow">return</span> NULL;
<a name="l00439"></a>00439         }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441       block = <a class="code" href="block_8h.html#a8b7633ab6d6feadf9b2ee58e10ad8397">BLOCK_SUPERBLOCK</a> (block);
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <span class="keywordflow">return</span> NULL;
<a name="l00445"></a>00445 }
<a name="l00446"></a>00446 
<a name="l00447"></a>00447 <span class="comment">/* Table mapping opcodes into strings for printing operators</span>
<a name="l00448"></a>00448 <span class="comment">   and precedences of the operators.</span>
<a name="l00449"></a>00449 <span class="comment">   TODO(dje): &amp;^ ?  */</span>
<a name="l00450"></a>00450 
<a name="l00451"></a><a class="code" href="go-lang_8c.html#a185be24e976b91d278ed9ab95ca13981">00451</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structop__print.html">op_print</a> <a class="code" href="go-lang_8c.html#a185be24e976b91d278ed9ab95ca13981">go_op_print_tab</a>[] =
<a name="l00452"></a>00452 {
<a name="l00453"></a>00453   {<span class="stringliteral">&quot;,&quot;</span>, BINOP_COMMA, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aab1129d044f7e5ad7620fc5287546977c">PREC_COMMA</a>, 0},
<a name="l00454"></a>00454   {<span class="stringliteral">&quot;=&quot;</span>, BINOP_ASSIGN, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5e92f27b45854d3fb0eec6a7a124de27">PREC_ASSIGN</a>, 1},
<a name="l00455"></a>00455   {<span class="stringliteral">&quot;||&quot;</span>, BINOP_LOGICAL_OR, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa64fa270482d302628e98c685632f4268">PREC_LOGICAL_OR</a>, 0},
<a name="l00456"></a>00456   {<span class="stringliteral">&quot;&amp;&amp;&quot;</span>, BINOP_LOGICAL_AND, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aaf6f26d1f69e85719e3acdb44ac4ee4ee">PREC_LOGICAL_AND</a>, 0},
<a name="l00457"></a>00457   {<span class="stringliteral">&quot;|&quot;</span>, BINOP_BITWISE_IOR, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aaf353c85696ff7bc39d5017c1a9203372">PREC_BITWISE_IOR</a>, 0},
<a name="l00458"></a>00458   {<span class="stringliteral">&quot;^&quot;</span>, BINOP_BITWISE_XOR, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa875ea1a069608469e9aa3bb74191d912">PREC_BITWISE_XOR</a>, 0},
<a name="l00459"></a>00459   {<span class="stringliteral">&quot;&amp;&quot;</span>, BINOP_BITWISE_AND, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aaadadbfbd7d5f8fb39a22da4c406567ef">PREC_BITWISE_AND</a>, 0},
<a name="l00460"></a>00460   {<span class="stringliteral">&quot;==&quot;</span>, BINOP_EQUAL, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aab4f80761770aecaaa11be998cb32be94">PREC_EQUAL</a>, 0},
<a name="l00461"></a>00461   {<span class="stringliteral">&quot;!=&quot;</span>, BINOP_NOTEQUAL, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aab4f80761770aecaaa11be998cb32be94">PREC_EQUAL</a>, 0},
<a name="l00462"></a>00462   {<span class="stringliteral">&quot;&lt;=&quot;</span>, BINOP_LEQ, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aabe35ff2127b6931e77edf2b2c9ebb808">PREC_ORDER</a>, 0},
<a name="l00463"></a>00463   {<span class="stringliteral">&quot;&gt;=&quot;</span>, BINOP_GEQ, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aabe35ff2127b6931e77edf2b2c9ebb808">PREC_ORDER</a>, 0},
<a name="l00464"></a>00464   {<span class="stringliteral">&quot;&gt;&quot;</span>, BINOP_GTR, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aabe35ff2127b6931e77edf2b2c9ebb808">PREC_ORDER</a>, 0},
<a name="l00465"></a>00465   {<span class="stringliteral">&quot;&lt;&quot;</span>, BINOP_LESS, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aabe35ff2127b6931e77edf2b2c9ebb808">PREC_ORDER</a>, 0},
<a name="l00466"></a>00466   {<span class="stringliteral">&quot;&gt;&gt;&quot;</span>, BINOP_RSH, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa2a8605af70bc30b107eb374ba1fa24f1">PREC_SHIFT</a>, 0},
<a name="l00467"></a>00467   {<span class="stringliteral">&quot;&lt;&lt;&quot;</span>, BINOP_LSH, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa2a8605af70bc30b107eb374ba1fa24f1">PREC_SHIFT</a>, 0},
<a name="l00468"></a>00468   {<span class="stringliteral">&quot;+&quot;</span>, BINOP_ADD, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa75d26b179930f86774fd523647ab0016">PREC_ADD</a>, 0},
<a name="l00469"></a>00469   {<span class="stringliteral">&quot;-&quot;</span>, BINOP_SUB, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa75d26b179930f86774fd523647ab0016">PREC_ADD</a>, 0},
<a name="l00470"></a>00470   {<span class="stringliteral">&quot;*&quot;</span>, BINOP_MUL, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aac911cdbd79edb8f68cd50c2dbdf4109a">PREC_MUL</a>, 0},
<a name="l00471"></a>00471   {<span class="stringliteral">&quot;/&quot;</span>, BINOP_DIV, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aac911cdbd79edb8f68cd50c2dbdf4109a">PREC_MUL</a>, 0},
<a name="l00472"></a>00472   {<span class="stringliteral">&quot;%&quot;</span>, BINOP_REM, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aac911cdbd79edb8f68cd50c2dbdf4109a">PREC_MUL</a>, 0},
<a name="l00473"></a>00473   {<span class="stringliteral">&quot;@&quot;</span>, BINOP_REPEAT, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aae279f8bb77ff7e4e18e893a118c5687e">PREC_REPEAT</a>, 0},
<a name="l00474"></a>00474   {<span class="stringliteral">&quot;-&quot;</span>, UNOP_NEG, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00475"></a>00475   {<span class="stringliteral">&quot;!&quot;</span>, UNOP_LOGICAL_NOT, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00476"></a>00476   {<span class="stringliteral">&quot;^&quot;</span>, UNOP_COMPLEMENT, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00477"></a>00477   {<span class="stringliteral">&quot;*&quot;</span>, UNOP_IND, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00478"></a>00478   {<span class="stringliteral">&quot;&amp;&quot;</span>, UNOP_ADDR, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00479"></a>00479   {<span class="stringliteral">&quot;unsafe.Sizeof &quot;</span>, UNOP_SIZEOF, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aa5ee2ba062f4296b69ca2878e3133ff6e">PREC_PREFIX</a>, 0},
<a name="l00480"></a>00480   {<span class="stringliteral">&quot;++&quot;</span>, UNOP_POSTINCREMENT, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aadc6d48542f0442d8e2fede72bd0b3976">PREC_SUFFIX</a>, 0},
<a name="l00481"></a>00481   {<span class="stringliteral">&quot;--&quot;</span>, UNOP_POSTDECREMENT, <a class="code" href="parser-defs_8h.html#a7ba15b09f5921966959e0abb2e1d3e4aadc6d48542f0442d8e2fede72bd0b3976">PREC_SUFFIX</a>, 0},
<a name="l00482"></a>00482   {NULL, 0, 0, 0}
<a name="l00483"></a>00483 };
<a name="l00484"></a>00484 
<a name="l00485"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598">00485</a> <span class="keyword">enum</span> <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598">go_primitive_types</a> {
<a name="l00486"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a1dcf073c3d73eba8031c2c0a3085ed65">00486</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a1dcf073c3d73eba8031c2c0a3085ed65">go_primitive_type_void</a>,
<a name="l00487"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a039ce61ae2d8842a11898e21065ef1bc">00487</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a039ce61ae2d8842a11898e21065ef1bc">go_primitive_type_char</a>,
<a name="l00488"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a4dae52cd67d9e03f8c8f80d8acc65c5c">00488</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a4dae52cd67d9e03f8c8f80d8acc65c5c">go_primitive_type_bool</a>,
<a name="l00489"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac5c03af2fb3a670ee0d51b3d2cf889f1">00489</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac5c03af2fb3a670ee0d51b3d2cf889f1">go_primitive_type_int</a>,
<a name="l00490"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6321ae090e69bd81fadff3e21ed5b02f">00490</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6321ae090e69bd81fadff3e21ed5b02f">go_primitive_type_uint</a>,
<a name="l00491"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598af0a130049fdbff868823809b063a2be4">00491</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598af0a130049fdbff868823809b063a2be4">go_primitive_type_uintptr</a>,
<a name="l00492"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ae0d65f1d1e406fe8006d472016352672">00492</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ae0d65f1d1e406fe8006d472016352672">go_primitive_type_int8</a>,
<a name="l00493"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a846d7726cdfe18dd2d9f92f9897dfb0f">00493</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a846d7726cdfe18dd2d9f92f9897dfb0f">go_primitive_type_int16</a>,
<a name="l00494"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac0ac7de81671f7e141aba9f873a21b93">00494</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac0ac7de81671f7e141aba9f873a21b93">go_primitive_type_int32</a>,
<a name="l00495"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a832c3e23e068728246f2ceb916959ded">00495</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a832c3e23e068728246f2ceb916959ded">go_primitive_type_int64</a>,
<a name="l00496"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598afb16efa9d0b83bb5fef7529bfaabf487">00496</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598afb16efa9d0b83bb5fef7529bfaabf487">go_primitive_type_uint8</a>,
<a name="l00497"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aa48ca552887295bbcb9b2c0f7ba0456b">00497</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aa48ca552887295bbcb9b2c0f7ba0456b">go_primitive_type_uint16</a>,
<a name="l00498"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aeff0f92fe322528f1562c4304bebdb33">00498</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aeff0f92fe322528f1562c4304bebdb33">go_primitive_type_uint32</a>,
<a name="l00499"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a2f5518bb20e2211460a5f07e72f6a7e1">00499</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a2f5518bb20e2211460a5f07e72f6a7e1">go_primitive_type_uint64</a>,
<a name="l00500"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a0fccc66c62bf3c19876cf63b2ba344b4">00500</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a0fccc66c62bf3c19876cf63b2ba344b4">go_primitive_type_float32</a>,
<a name="l00501"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598affe11e6ff24c02f9810382e71a530ac2">00501</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598affe11e6ff24c02f9810382e71a530ac2">go_primitive_type_float64</a>,
<a name="l00502"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6a434ddd0dff66a4e7d72c34379e22d7">00502</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6a434ddd0dff66a4e7d72c34379e22d7">go_primitive_type_complex64</a>,
<a name="l00503"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a8ecff45729bf670720c4c9f7dab6f10f">00503</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a8ecff45729bf670720c4c9f7dab6f10f">go_primitive_type_complex128</a>,
<a name="l00504"></a><a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a29c6f38cc572e1da52e0dec818a835cf">00504</a>   <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a29c6f38cc572e1da52e0dec818a835cf">nr_go_primitive_types</a>
<a name="l00505"></a>00505 };
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00508"></a><a class="code" href="go-lang_8c.html#a983508abd8888bad35584c51fed7a5a5">00508</a> <a class="code" href="go-lang_8c.html#a983508abd8888bad35584c51fed7a5a5">go_language_arch_info</a> (<span class="keyword">struct</span> <a class="code" href="structgdbarch.html">gdbarch</a> *<a class="code" href="structgdbarch.html">gdbarch</a>,
<a name="l00509"></a>00509                        <span class="keyword">struct</span> <a class="code" href="structlanguage__arch__info.html">language_arch_info</a> *lai)
<a name="l00510"></a>00510 {
<a name="l00511"></a>00511   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structbuiltin__go__type.html">builtin_go_type</a> *builtin = <a class="code" href="go-lang_8c.html#a246f41921be4668b7567a14cc6649e9b">builtin_go_type</a> (gdbarch);
<a name="l00512"></a>00512 
<a name="l00513"></a>00513   lai-&gt;<a class="code" href="structlanguage__arch__info.html#a9df1511778000393f968580071b67220">string_char_type</a> = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a5af7338461efd109d0b4a88a3d3bd5da">builtin_char</a>;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a>
<a name="l00516"></a>00516     = <a class="code" href="gdbarch_8h.html#a549a8eb8c7bf7b3ceeead14005516d80">GDBARCH_OBSTACK_CALLOC</a> (gdbarch, <a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a29c6f38cc572e1da52e0dec818a835cf">nr_go_primitive_types</a> + 1,
<a name="l00517"></a>00517                               <span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a1dcf073c3d73eba8031c2c0a3085ed65">go_primitive_type_void</a>]
<a name="l00520"></a>00520     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a612b50c564137654218019aedac10b07">builtin_void</a>;
<a name="l00521"></a>00521   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a039ce61ae2d8842a11898e21065ef1bc">go_primitive_type_char</a>]
<a name="l00522"></a>00522     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a5af7338461efd109d0b4a88a3d3bd5da">builtin_char</a>;
<a name="l00523"></a>00523   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a4dae52cd67d9e03f8c8f80d8acc65c5c">go_primitive_type_bool</a>]
<a name="l00524"></a>00524     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#ac6e317df3d6f60928390784d9e3a2a57">builtin_bool</a>;
<a name="l00525"></a>00525   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac5c03af2fb3a670ee0d51b3d2cf889f1">go_primitive_type_int</a>]
<a name="l00526"></a>00526     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a772dfc7067515bba592c68a323e99dd4">builtin_int</a>;
<a name="l00527"></a>00527   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6321ae090e69bd81fadff3e21ed5b02f">go_primitive_type_uint</a>]
<a name="l00528"></a>00528     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a0b527f189e5efc0fe56ec08910071dd0">builtin_uint</a>;
<a name="l00529"></a>00529   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598af0a130049fdbff868823809b063a2be4">go_primitive_type_uintptr</a>]
<a name="l00530"></a>00530     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#aa6d36ecc9f578a460460d68867407fdd">builtin_uintptr</a>;
<a name="l00531"></a>00531   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ae0d65f1d1e406fe8006d472016352672">go_primitive_type_int8</a>]
<a name="l00532"></a>00532     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#af156ca35a10f58fbebd07006e604b4e3">builtin_int8</a>;
<a name="l00533"></a>00533   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a846d7726cdfe18dd2d9f92f9897dfb0f">go_primitive_type_int16</a>]
<a name="l00534"></a>00534     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#abd1e9fbc84f1210b83b3d7e526c85f0a">builtin_int16</a>;
<a name="l00535"></a>00535   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598ac0ac7de81671f7e141aba9f873a21b93">go_primitive_type_int32</a>]
<a name="l00536"></a>00536     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a42901ca9042a88bb60a616e52bdeb8ab">builtin_int32</a>;
<a name="l00537"></a>00537   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a832c3e23e068728246f2ceb916959ded">go_primitive_type_int64</a>]
<a name="l00538"></a>00538     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a3068c57b454d46bfaf25912910230243">builtin_int64</a>;
<a name="l00539"></a>00539   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598afb16efa9d0b83bb5fef7529bfaabf487">go_primitive_type_uint8</a>]
<a name="l00540"></a>00540     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#afbad0249faa83a2c4111dd6c2d812a46">builtin_uint8</a>;
<a name="l00541"></a>00541   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aa48ca552887295bbcb9b2c0f7ba0456b">go_primitive_type_uint16</a>]
<a name="l00542"></a>00542     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#aedbbf4dc955daafd9ae8a1d50da59466">builtin_uint16</a>;
<a name="l00543"></a>00543   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598aeff0f92fe322528f1562c4304bebdb33">go_primitive_type_uint32</a>]
<a name="l00544"></a>00544     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#ae1020ed1e278e52a3893cb223261a33d">builtin_uint32</a>;
<a name="l00545"></a>00545   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a2f5518bb20e2211460a5f07e72f6a7e1">go_primitive_type_uint64</a>]
<a name="l00546"></a>00546     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a9da134250ce160992b5489ce322db9a8">builtin_uint64</a>;
<a name="l00547"></a>00547   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a0fccc66c62bf3c19876cf63b2ba344b4">go_primitive_type_float32</a>]
<a name="l00548"></a>00548     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#acff98b8a6b4463980997bece86257cdc">builtin_float32</a>;
<a name="l00549"></a>00549   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598affe11e6ff24c02f9810382e71a530ac2">go_primitive_type_float64</a>]
<a name="l00550"></a>00550     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#ab01ac97d4ed26dd533a55dc497efb575">builtin_float64</a>;
<a name="l00551"></a>00551   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a6a434ddd0dff66a4e7d72c34379e22d7">go_primitive_type_complex64</a>]
<a name="l00552"></a>00552     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a12185e4579eca6395f0a0b9741f0c5af">builtin_complex64</a>;
<a name="l00553"></a>00553   lai-&gt;<a class="code" href="structlanguage__arch__info.html#ae2f7fe7a273dafc97e3564d0a3676c7a">primitive_type_vector</a> [<a class="code" href="go-lang_8c.html#a4da7d4fc57f81917446f249fa57e6598a8ecff45729bf670720c4c9f7dab6f10f">go_primitive_type_complex128</a>]
<a name="l00554"></a>00554     = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#a21b575e95c3c24542e54cf991de3939c">builtin_complex128</a>;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556   lai-&gt;<a class="code" href="structlanguage__arch__info.html#af4d9c147f7ac12e01abddf2418afa666">bool_type_symbol</a> = <span class="stringliteral">&quot;bool&quot;</span>;
<a name="l00557"></a>00557   lai-&gt;<a class="code" href="structlanguage__arch__info.html#a20c98528276dd045a787bd6f08ec5440">bool_type_default</a> = builtin-&gt;<a class="code" href="structbuiltin__go__type.html#ac6e317df3d6f60928390784d9e3a2a57">builtin_bool</a>;
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="go-lang_8c.html#ad4274f274063dfb6e67611eed65ec220">00560</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structlanguage__defn.html">language_defn</a> <a class="code" href="go-lang_8c.html#ad4274f274063dfb6e67611eed65ec220">go_language_defn</a> =
<a name="l00561"></a>00561 {
<a name="l00562"></a>00562   <span class="stringliteral">&quot;go&quot;</span>,
<a name="l00563"></a>00563   <a class="code" href="defs_8h.html#aa37aa8979934d47ac32fd96ecff32202a702bd2253975155cace46837f64a702a">language_go</a>,
<a name="l00564"></a>00564   <a class="code" href="language_8h.html#a8202735d4285cea82932facdabf35566aec4bbab89cf0e990b8ffa2dbb5496f86">range_check_off</a>,
<a name="l00565"></a>00565   <a class="code" href="language_8h.html#ad102f9e1a41cf77a0045e37883dd2940a236ce0a37504b1c7b4f94f8236707e36">case_sensitive_on</a>,
<a name="l00566"></a>00566   <a class="code" href="language_8h.html#a01793f9b076697670fa7f9c07d925315a8a2dbbdfa4f6850059d3d27c26258d4a">array_row_major</a>,
<a name="l00567"></a>00567   <a class="code" href="language_8h.html#a511881683e72b52d0e2a3f2d561a6d2fa6e45788a6b1223fd0886ac44d761c823">macro_expansion_no</a>,
<a name="l00568"></a>00568   &amp;<a class="code" href="c-lang_8c.html#aadc60d61bad52a248f8c6e6ccd843bbf">exp_descriptor_c</a>,
<a name="l00569"></a>00569   <a class="code" href="go-lang_8h.html#ac2d176ce626e3ada4c639a1856069936">go_parse</a>,
<a name="l00570"></a>00570   <a class="code" href="go-lang_8h.html#a92c0207deb3197fbb1e5e12024f65cb1">go_error</a>,
<a name="l00571"></a>00571   <a class="code" href="parse_8c.html#aa04ce44b24dbe3d4424adac28d7f8495">null_post_parser</a>,
<a name="l00572"></a>00572   <a class="code" href="c-lang_8c.html#aea550415b0049213c5f97bc017f2ee34">c_printchar</a>,                  <span class="comment">/* Print a character constant.  */</span>
<a name="l00573"></a>00573   <a class="code" href="c-lang_8c.html#a3864ea752d884eeb0c4b35b05f33d6a7">c_printstr</a>,                   <span class="comment">/* Function to print string constant.  */</span>
<a name="l00574"></a>00574   <a class="code" href="c-lang_8c.html#a16654655bc55474662ead4767521bfa7">c_emit_char</a>,                  <span class="comment">/* Print a single char.  */</span>
<a name="l00575"></a>00575   <a class="code" href="go-lang_8h.html#a1c4688368bd073cd015a690a1185c409">go_print_type</a>,                <span class="comment">/* Print a type using appropriate syntax.  */</span>
<a name="l00576"></a>00576   <a class="code" href="c-lang_8h.html#a073adf20f0da276c766f5f2189b21b19">c_print_typedef</a>,              <span class="comment">/* Print a typedef using appropriate</span>
<a name="l00577"></a>00577 <span class="comment">                                   syntax.  */</span>
<a name="l00578"></a>00578   <a class="code" href="go-lang_8h.html#af737163533372bd718c80cf8587aebe6">go_val_print</a>,                 <span class="comment">/* Print a value using appropriate syntax.  */</span>
<a name="l00579"></a>00579   <a class="code" href="c-lang_8h.html#ad9797c5c67c2fd98a81b155208ca7a76">c_value_print</a>,                <span class="comment">/* Print a top-level value.  */</span>
<a name="l00580"></a>00580   <a class="code" href="findvar_8c.html#a4397d3c19060201bb4fe2d679245f6dd">default_read_var_value</a>,       <span class="comment">/* la_read_var_value */</span>
<a name="l00581"></a>00581   NULL,                         <span class="comment">/* Language specific skip_trampoline.  */</span>
<a name="l00582"></a>00582   NULL,                         <span class="comment">/* name_of_this */</span>
<a name="l00583"></a>00583   <a class="code" href="symtab_8c.html#a1ab2d3f0f282e2cad20fd6215d45db7c">basic_lookup_symbol_nonlocal</a>, 
<a name="l00584"></a>00584   <a class="code" href="symtab_8c.html#a952bee3396047112c61476d5952dfb1e">basic_lookup_transparent_type</a>,
<a name="l00585"></a>00585   <a class="code" href="go-lang_8c.html#a0dea6d39f3acd076cd314429ef14e0f6">go_demangle</a>,                  <span class="comment">/* Language specific symbol demangler.  */</span>
<a name="l00586"></a>00586   NULL,                         <span class="comment">/* Language specific</span>
<a name="l00587"></a>00587 <span class="comment">                                   class_name_from_physname.  */</span>
<a name="l00588"></a>00588   <a class="code" href="go-lang_8c.html#a185be24e976b91d278ed9ab95ca13981">go_op_print_tab</a>,              <span class="comment">/* Expression operators for printing.  */</span>
<a name="l00589"></a>00589   1,                            <span class="comment">/* C-style arrays.  */</span>
<a name="l00590"></a>00590   0,                            <span class="comment">/* String lower bound.  */</span>
<a name="l00591"></a>00591   <a class="code" href="language_8c.html#a4faef03d5ddb629c5ca5e8d075665a9a">default_word_break_characters</a>,
<a name="l00592"></a>00592   default_make_symbol_completion_list,
<a name="l00593"></a>00593   <a class="code" href="go-lang_8c.html#a983508abd8888bad35584c51fed7a5a5">go_language_arch_info</a>,
<a name="l00594"></a>00594   <a class="code" href="language_8c.html#a84d8c36b65fd18b4f2aaaa1e61637fcb">default_print_array_index</a>,
<a name="l00595"></a>00595   <a class="code" href="language_8c.html#a037e46fb8e24b253e3ac84a02bfab53e">default_pass_by_reference</a>,
<a name="l00596"></a>00596   <a class="code" href="c-lang_8c.html#afec1faf129f343fad0cf0813571615f2">c_get_string</a>,
<a name="l00597"></a>00597   NULL,
<a name="l00598"></a>00598   <a class="code" href="symtab_8c.html#a56851fd6810894c27bdfcd4571b6ed2a">iterate_over_symbols</a>,
<a name="l00599"></a>00599   <a class="code" href="language_8h.html#adaa27b8c7c639f32b42b1b37c83d863a">LANG_MAGIC</a>
<a name="l00600"></a>00600 };
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 <span class="keyword">static</span> <span class="keywordtype">void</span> *
<a name="l00603"></a><a class="code" href="go-lang_8c.html#aefd99e525a5a92b46de73601e4eba18e">00603</a> <a class="code" href="go-lang_8c.html#aefd99e525a5a92b46de73601e4eba18e">build_go_types</a> (<span class="keyword">struct</span> <a class="code" href="structgdbarch.html">gdbarch</a> *<a class="code" href="structgdbarch.html">gdbarch</a>)
<a name="l00604"></a>00604 {
<a name="l00605"></a>00605   <span class="keyword">struct </span><a class="code" href="structbuiltin__go__type.html">builtin_go_type</a> *<a class="code" href="structbuiltin__go__type.html">builtin_go_type</a>
<a name="l00606"></a>00606     = <a class="code" href="gdbarch_8h.html#a7a8ad14d9f19246d5384b05231133942">GDBARCH_OBSTACK_ZALLOC</a> (gdbarch, <span class="keyword">struct</span> builtin_go_type);
<a name="l00607"></a>00607 
<a name="l00608"></a>00608   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a612b50c564137654218019aedac10b07">builtin_void</a>
<a name="l00609"></a>00609     = <a class="code" href="gdbtypes_8c.html#a4b444f0f6cfacb3f35d68fd7866402e2">arch_type</a> (gdbarch, <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462ad142a78789548b777dee1a3313e3e64f">TYPE_CODE_VOID</a>, 1, <span class="stringliteral">&quot;void&quot;</span>);
<a name="l00610"></a>00610   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a5af7338461efd109d0b4a88a3d3bd5da">builtin_char</a>
<a name="l00611"></a>00611     = <a class="code" href="gdbtypes_8c.html#abf097ab6cef555918409ef2c4ed8335d">arch_character_type</a> (gdbarch, 8, 1, <span class="stringliteral">&quot;char&quot;</span>);
<a name="l00612"></a>00612   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#ac6e317df3d6f60928390784d9e3a2a57">builtin_bool</a>
<a name="l00613"></a>00613     = <a class="code" href="gdbtypes_8c.html#a96583a5ee2a894c239ad5018ca977f45">arch_boolean_type</a> (gdbarch, 8, 0, <span class="stringliteral">&quot;bool&quot;</span>);
<a name="l00614"></a>00614   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a772dfc7067515bba592c68a323e99dd4">builtin_int</a>
<a name="l00615"></a>00615     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, <a class="code" href="gdbarch_8c.html#a6f4f4c6b17870bbd5de1f5e2776f774b">gdbarch_int_bit</a> (gdbarch), 0, <span class="stringliteral">&quot;int&quot;</span>);
<a name="l00616"></a>00616   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a0b527f189e5efc0fe56ec08910071dd0">builtin_uint</a>
<a name="l00617"></a>00617     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, <a class="code" href="gdbarch_8c.html#a6f4f4c6b17870bbd5de1f5e2776f774b">gdbarch_int_bit</a> (gdbarch), 1, <span class="stringliteral">&quot;uint&quot;</span>);
<a name="l00618"></a>00618   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#aa6d36ecc9f578a460460d68867407fdd">builtin_uintptr</a>
<a name="l00619"></a>00619     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, <a class="code" href="gdbarch_8c.html#ae356193e481873e4377ff922d984f13f">gdbarch_ptr_bit</a> (gdbarch), 1, <span class="stringliteral">&quot;uintptr&quot;</span>);
<a name="l00620"></a>00620   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#af156ca35a10f58fbebd07006e604b4e3">builtin_int8</a>
<a name="l00621"></a>00621     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 8, 0, <span class="stringliteral">&quot;int8&quot;</span>);
<a name="l00622"></a>00622   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#abd1e9fbc84f1210b83b3d7e526c85f0a">builtin_int16</a>
<a name="l00623"></a>00623     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 16, 0, <span class="stringliteral">&quot;int16&quot;</span>);
<a name="l00624"></a>00624   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a42901ca9042a88bb60a616e52bdeb8ab">builtin_int32</a>
<a name="l00625"></a>00625     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 32, 0, <span class="stringliteral">&quot;int32&quot;</span>);
<a name="l00626"></a>00626   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a3068c57b454d46bfaf25912910230243">builtin_int64</a>
<a name="l00627"></a>00627     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 64, 0, <span class="stringliteral">&quot;int64&quot;</span>);
<a name="l00628"></a>00628   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#afbad0249faa83a2c4111dd6c2d812a46">builtin_uint8</a>
<a name="l00629"></a>00629     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 8, 1, <span class="stringliteral">&quot;uint8&quot;</span>);
<a name="l00630"></a>00630   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#aedbbf4dc955daafd9ae8a1d50da59466">builtin_uint16</a>
<a name="l00631"></a>00631     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 16, 1, <span class="stringliteral">&quot;uint16&quot;</span>);
<a name="l00632"></a>00632   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#ae1020ed1e278e52a3893cb223261a33d">builtin_uint32</a>
<a name="l00633"></a>00633     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 32, 1, <span class="stringliteral">&quot;uint32&quot;</span>);
<a name="l00634"></a>00634   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a9da134250ce160992b5489ce322db9a8">builtin_uint64</a>
<a name="l00635"></a>00635     = <a class="code" href="gdbtypes_8c.html#a48d67b6e344214b752cbfe22076af3e1">arch_integer_type</a> (gdbarch, 64, 1, <span class="stringliteral">&quot;uint64&quot;</span>);
<a name="l00636"></a>00636   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#acff98b8a6b4463980997bece86257cdc">builtin_float32</a>
<a name="l00637"></a>00637     = <a class="code" href="gdbtypes_8c.html#a793ccf335a07069a67a654084cd4a513">arch_float_type</a> (gdbarch, 32, <span class="stringliteral">&quot;float32&quot;</span>, NULL);
<a name="l00638"></a>00638   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#ab01ac97d4ed26dd533a55dc497efb575">builtin_float64</a>
<a name="l00639"></a>00639     = <a class="code" href="gdbtypes_8c.html#a793ccf335a07069a67a654084cd4a513">arch_float_type</a> (gdbarch, 64, <span class="stringliteral">&quot;float64&quot;</span>, NULL);
<a name="l00640"></a>00640   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a12185e4579eca6395f0a0b9741f0c5af">builtin_complex64</a>
<a name="l00641"></a>00641     = <a class="code" href="gdbtypes_8c.html#a0cd16e70a93da3e835cb945e56ea8ba7">arch_complex_type</a> (gdbarch, <span class="stringliteral">&quot;complex64&quot;</span>,
<a name="l00642"></a>00642                          builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#acff98b8a6b4463980997bece86257cdc">builtin_float32</a>);
<a name="l00643"></a>00643   builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#a21b575e95c3c24542e54cf991de3939c">builtin_complex128</a>
<a name="l00644"></a>00644     = <a class="code" href="gdbtypes_8c.html#a0cd16e70a93da3e835cb945e56ea8ba7">arch_complex_type</a> (gdbarch, <span class="stringliteral">&quot;complex128&quot;</span>,
<a name="l00645"></a>00645                          builtin_go_type-&gt;<a class="code" href="structbuiltin__go__type.html#ab01ac97d4ed26dd533a55dc497efb575">builtin_float64</a>);
<a name="l00646"></a>00646 
<a name="l00647"></a>00647   <span class="keywordflow">return</span> <a class="code" href="go-lang_8c.html#a246f41921be4668b7567a14cc6649e9b">builtin_go_type</a>;
<a name="l00648"></a>00648 }
<a name="l00649"></a>00649 
<a name="l00650"></a><a class="code" href="go-lang_8c.html#aa72df42457162daaa67d952575ebb70a">00650</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structgdbarch__data.html">gdbarch_data</a> *<a class="code" href="go-lang_8c.html#aa72df42457162daaa67d952575ebb70a">go_type_data</a>;
<a name="l00651"></a>00651 
<a name="l00652"></a>00652 <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structbuiltin__go__type.html">builtin_go_type</a> *
<a name="l00653"></a><a class="code" href="go-lang_8h.html#a8abc6d207c4fde91c680da8f3392cc8f">00653</a> <a class="code" href="go-lang_8c.html#a246f41921be4668b7567a14cc6649e9b">builtin_go_type</a> (<span class="keyword">struct</span> <a class="code" href="structgdbarch.html">gdbarch</a> *<a class="code" href="structgdbarch.html">gdbarch</a>)
<a name="l00654"></a>00654 {
<a name="l00655"></a>00655   <span class="keywordflow">return</span> <a class="code" href="gdbarch_8c.html#af5b48a62893f4f5f453c3c27ad3b44f7">gdbarch_data</a> (gdbarch, go_type_data);
<a name="l00656"></a>00656 }
<a name="l00657"></a>00657 
<a name="l00658"></a>00658 <span class="keyword">extern</span> <a class="code" href="defs_8h.html#a686ed07d4fdcdc366f2bc677216ca08d">initialize_file_ftype</a> <a class="code" href="go-lang_8c.html#a3a70a3d590b71a2739fb24512f7bb416">_initialize_go_language</a>;
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 <span class="keywordtype">void</span>
<a name="l00661"></a><a class="code" href="go-lang_8c.html#a05d9198457e78209cb1ebefe63eee367">00661</a> _initialize_go_language (<span class="keywordtype">void</span>)
<a name="l00662"></a>00662 {
<a name="l00663"></a>00663   go_type_data = <a class="code" href="gdbarch_8c.html#a219e3e533d615006b7981cdc33ae88ed">gdbarch_data_register_post_init</a> (<a class="code" href="go-lang_8c.html#aefd99e525a5a92b46de73601e4eba18e">build_go_types</a>);
<a name="l00664"></a>00664 
<a name="l00665"></a>00665   <a class="code" href="language_8c.html#acf669be4f23fee01f1d5ab3f7194df17">add_language</a> (&amp;go_language_defn);
<a name="l00666"></a>00666 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 11 2013 14:13:27 for GDB (xrefs) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
