<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GDB (xrefs): /home/stan/gdb/src/gdb/ada-typeprint.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GDB (xrefs)
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/home/stan/gdb/src/gdb/ada-typeprint.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ada-typeprint_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Support for printing Ada types for GDB, the GNU debugger.</span>
<a name="l00002"></a>00002 <span class="comment">   Copyright (C) 1986-2013 Free Software Foundation, Inc.</span>
<a name="l00003"></a>00003 <span class="comment"></span>
<a name="l00004"></a>00004 <span class="comment">   This file is part of GDB.</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">   This program is free software; you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment">   it under the terms of the GNU General Public License as published by</span>
<a name="l00008"></a>00008 <span class="comment">   the Free Software Foundation; either version 3 of the License, or</span>
<a name="l00009"></a>00009 <span class="comment">   (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment">   This program is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment">   GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">   You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.  */</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="defs_8h.html">defs.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="gdb__obstack_8h.html">gdb_obstack.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;bfd.h&quot;</span>                <span class="comment">/* Binary File Description */</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="symtab_8h.html">symtab.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="gdbtypes_8h.html">gdbtypes.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="expression_8h.html">expression.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="value_8h.html">value.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="gdbcore_8h.html">gdbcore.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="target_8h.html">target.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="command_8h.html">command.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="gdbcmd_8h.html">gdbcmd.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="language_8h.html">language.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;demangle.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="c-lang_8h.html">c-lang.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="typeprint_8h.html">typeprint.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="ada-lang_8h.html">ada-lang.h</a>&quot;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gdb__string_8h.html">gdb_string.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ada-typeprint_8c.html#a9489f03fae54977be8f15587afaca057">print_selected_record_field_types</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *,
<a name="l00041"></a>00041                                               <span class="keywordtype">int</span>, <span class="keywordtype">int</span>,
<a name="l00042"></a>00042                                               <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>,
<a name="l00043"></a>00043                                               <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *);
<a name="l00044"></a>00044    
<a name="l00045"></a>00045 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *,
<a name="l00046"></a>00046                                      <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>,
<a name="l00047"></a>00047                                      <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">print_array_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>,
<a name="l00050"></a>00050                               <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *);
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ada-typeprint_8c.html#ae8803a1ffbc9293375207728c2076c51">print_choices</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *,
<a name="l00053"></a>00053                           <span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *);
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">print_range</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *);
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ada-typeprint_8c.html#a16a1f17d68db1c17abcb848c807401c6">print_range_bound</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span> *,
<a name="l00058"></a>00058                                <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *);
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00061"></a>00061 <a class="code" href="ada-typeprint_8c.html#ac3da82e7dd15f014a03f97eab9f073e3">print_dynamic_range_bound</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>,
<a name="l00062"></a>00062                            <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ada-typeprint_8c.html#a4bdfafdb97a0286e11c8c1ac861c5e48">print_range_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *);
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">00068</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>;
<a name="l00069"></a><a class="code" href="ada-typeprint_8c.html#ad0498dd123793a97634e9be67a9fc929">00069</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ada-typeprint_8c.html#ad0498dd123793a97634e9be67a9fc929">name_buffer_len</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="comment">/* The (decoded) Ada name of TYPE.  This value persists until the</span>
<a name="l00072"></a>00072 <span class="comment">   next call.  */</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">static</span> <span class="keywordtype">char</span> *
<a name="l00075"></a><a class="code" href="ada-typeprint_8c.html#a069a8c8173f14ddf07691b6334824170">00075</a> <a class="code" href="ada-typeprint_8c.html#a069a8c8173f14ddf07691b6334824170">decoded_type_name</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (type) == NULL)
<a name="l00078"></a>00078     <span class="keywordflow">return</span> NULL;
<a name="l00079"></a>00079   <span class="keywordflow">else</span>
<a name="l00080"></a>00080     {
<a name="l00081"></a>00081       <span class="keyword">const</span> <span class="keywordtype">char</span> *raw_name = <a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (type);
<a name="l00082"></a>00082       <span class="keywordtype">char</span> *s, *q;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084       <span class="keywordflow">if</span> (<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a> == NULL || <a class="code" href="ada-typeprint_8c.html#ad0498dd123793a97634e9be67a9fc929">name_buffer_len</a> &lt;= strlen (raw_name))
<a name="l00085"></a>00085         {
<a name="l00086"></a>00086           <a class="code" href="ada-typeprint_8c.html#ad0498dd123793a97634e9be67a9fc929">name_buffer_len</a> = 16 + 2 * strlen (raw_name);
<a name="l00087"></a>00087           <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a> = <a class="code" href="common-utils_8c.html#af404b7244f442ce8c3069f31af566eae">xrealloc</a> (<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>, <a class="code" href="ada-typeprint_8c.html#ad0498dd123793a97634e9be67a9fc929">name_buffer_len</a>);
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089       strcpy (<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>, raw_name);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091       s = (<span class="keywordtype">char</span> *) <a class="code" href="gdb__string_8h.html#a55c8e1e0e5f3578988a2feb0d417ad1c">strstr</a> (<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>, <span class="stringliteral">&quot;___&quot;</span>);
<a name="l00092"></a>00092       <span class="keywordflow">if</span> (s != NULL)
<a name="l00093"></a>00093         *s = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095       s = <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a> + strlen (<a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>) - 1;
<a name="l00096"></a>00096       <span class="keywordflow">while</span> (s &gt; <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a> &amp;&amp; (s[0] != <span class="charliteral">&#39;_&#39;</span> || s[-1] != <span class="charliteral">&#39;_&#39;</span>))
<a name="l00097"></a>00097         s -= 1;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099       <span class="keywordflow">if</span> (s == <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>)
<a name="l00100"></a>00100         <span class="keywordflow">return</span> <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102       <span class="keywordflow">if</span> (!islower (s[1]))
<a name="l00103"></a>00103         <span class="keywordflow">return</span> NULL;
<a name="l00104"></a>00104 
<a name="l00105"></a>00105       <span class="keywordflow">for</span> (s = q = <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>; *s != <span class="charliteral">&#39;\0&#39;</span>; q += 1)
<a name="l00106"></a>00106         {
<a name="l00107"></a>00107           <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;_&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;_&#39;</span>)
<a name="l00108"></a>00108             {
<a name="l00109"></a>00109               *q = <span class="charliteral">&#39;.&#39;</span>;
<a name="l00110"></a>00110               s += 2;
<a name="l00111"></a>00111             }
<a name="l00112"></a>00112           <span class="keywordflow">else</span>
<a name="l00113"></a>00113             {
<a name="l00114"></a>00114               *q = *s;
<a name="l00115"></a>00115               s += 1;
<a name="l00116"></a>00116             }
<a name="l00117"></a>00117         }
<a name="l00118"></a>00118       *q = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00119"></a>00119       <span class="keywordflow">return</span> <a class="code" href="ada-typeprint_8c.html#a0e3e24bc9ba5677f31c8794332a1c440">name_buffer</a>;
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121 }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/* Print TYPE on STREAM, preferably as a range.  */</span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00126"></a><a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">00126</a> <a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">print_range</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00127"></a>00127 {
<a name="l00128"></a>00128   <span class="keywordflow">switch</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type))
<a name="l00129"></a>00129     {
<a name="l00130"></a>00130     <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a31cf8189b076711e63dea04c1136bafe">TYPE_CODE_RANGE</a>:
<a name="l00131"></a>00131     <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1afbc1e8f69012b205070a3b5eac7217">TYPE_CODE_ENUM</a>:
<a name="l00132"></a>00132       {
<a name="l00133"></a>00133         <span class="keyword">struct </span>type *target_type;
<a name="l00134"></a>00134         target_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type);
<a name="l00135"></a>00135         <span class="keywordflow">if</span> (target_type == NULL)
<a name="l00136"></a>00136           target_type = <a class="code" href="language_8c.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>;
<a name="l00137"></a>00137         <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (target_type, <a class="code" href="ada-lang_8c.html#ad4891bc1ffa6690999afab17e367bc57">ada_discrete_type_low_bound</a> (type),
<a name="l00138"></a>00138                           stream);
<a name="l00139"></a>00139         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; .. &quot;</span>);
<a name="l00140"></a>00140         <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (target_type, <a class="code" href="ada-lang_8c.html#a9c9b5c63f7cb76eb9fdf216fa2721509">ada_discrete_type_high_bound</a> (type),
<a name="l00141"></a>00141                           stream);
<a name="l00142"></a>00142       }
<a name="l00143"></a>00143       <span class="keywordflow">break</span>;
<a name="l00144"></a>00144     <span class="keywordflow">default</span>:
<a name="l00145"></a>00145       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%.*s&quot;</span>,
<a name="l00146"></a>00146                         <a class="code" href="ada-lang_8c.html#aa5624d1411eb736cbb8426496fadcf45">ada_name_prefix_len</a> (<a class="code" href="gdbtypes_8h.html#a60f6434779617e9ff9c60121ceb25015">TYPE_NAME</a> (type)),
<a name="l00147"></a>00147                         <a class="code" href="gdbtypes_8h.html#a60f6434779617e9ff9c60121ceb25015">TYPE_NAME</a> (type));
<a name="l00148"></a>00148       <span class="keywordflow">break</span>;
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150 }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="comment">/* Print the number or discriminant bound at BOUNDS+*N on STREAM, and</span>
<a name="l00153"></a>00153 <span class="comment">   set *N past the bound and its delimiter, if any.  */</span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00156"></a><a class="code" href="ada-typeprint_8c.html#a16a1f17d68db1c17abcb848c807401c6">00156</a> <a class="code" href="ada-typeprint_8c.html#a16a1f17d68db1c17abcb848c807401c6">print_range_bound</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keywordtype">char</span> *bounds, <span class="keywordtype">int</span> *n,
<a name="l00157"></a>00157                    <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00158"></a>00158 {
<a name="l00159"></a>00159   <a class="code" href="defs_8h.html#ac7647a3f71533007c9e128f3ddda1987">LONGEST</a> <a class="code" href="ia64-tdep_8c.html#aa7fb549cf7936f8264053676ad5a5115a3f2a77ecd272aa6d6b5902faa5e5fc68">B</a>;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#ace9b2035b5472767719b10e8d2691e11">ada_scan_number</a> (bounds, *n, &amp;B, n))
<a name="l00162"></a>00162     {
<a name="l00163"></a>00163       <span class="comment">/* STABS decodes all range types which bounds are 0 .. -1 as</span>
<a name="l00164"></a>00164 <span class="comment">         unsigned integers (ie. the type code is TYPE_CODE_INT, not</span>
<a name="l00165"></a>00165 <span class="comment">         TYPE_CODE_RANGE).  Unfortunately, ada_print_scalar() relies</span>
<a name="l00166"></a>00166 <span class="comment">         on the unsigned flag to determine whether the bound should</span>
<a name="l00167"></a>00167 <span class="comment">         be printed as a signed or an unsigned value.  This causes</span>
<a name="l00168"></a>00168 <span class="comment">         the upper bound of the 0 .. -1 range types to be printed as</span>
<a name="l00169"></a>00169 <span class="comment">         a very large unsigned number instead of -1.</span>
<a name="l00170"></a>00170 <span class="comment">         To workaround this stabs deficiency, we replace the TYPE by NULL</span>
<a name="l00171"></a>00171 <span class="comment">         to indicate default output when we detect that the bound is negative,</span>
<a name="l00172"></a>00172 <span class="comment">         and the type is a TYPE_CODE_INT.  The bound is negative when</span>
<a name="l00173"></a>00173 <span class="comment">         &#39;m&#39; is the last character of the number scanned in BOUNDS.  */</span>
<a name="l00174"></a>00174       <span class="keywordflow">if</span> (bounds[*n - 1] == <span class="charliteral">&#39;m&#39;</span> &amp;&amp; <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a7071a71840688811b992838bb09d0ddd">TYPE_CODE_INT</a>)
<a name="l00175"></a>00175         type = NULL;
<a name="l00176"></a>00176       <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (type, B, stream);
<a name="l00177"></a>00177       <span class="keywordflow">if</span> (bounds[*n] == <span class="charliteral">&#39;_&#39;</span>)
<a name="l00178"></a>00178         *n += 2;
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180   <span class="keywordflow">else</span>
<a name="l00181"></a>00181     {
<a name="l00182"></a>00182       <span class="keywordtype">int</span> bound_len;
<a name="l00183"></a>00183       <span class="keywordtype">char</span> *bound = bounds + *n;
<a name="l00184"></a>00184       <span class="keywordtype">char</span> *pend;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186       pend = <a class="code" href="gdb__string_8h.html#a55c8e1e0e5f3578988a2feb0d417ad1c">strstr</a> (bound, <span class="stringliteral">&quot;__&quot;</span>);
<a name="l00187"></a>00187       <span class="keywordflow">if</span> (pend == NULL)
<a name="l00188"></a>00188         *n += bound_len = strlen (bound);
<a name="l00189"></a>00189       <span class="keywordflow">else</span>
<a name="l00190"></a>00190         {
<a name="l00191"></a>00191           bound_len = pend - bound;
<a name="l00192"></a>00192           *n += bound_len + 2;
<a name="l00193"></a>00193         }
<a name="l00194"></a>00194       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%.*s&quot;</span>, bound_len, bound);
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">/* Assuming NAME[0 .. NAME_LEN-1] is the name of a range type, print</span>
<a name="l00199"></a>00199 <span class="comment">   the value (if found) of the bound indicated by SUFFIX (&quot;___L&quot; or</span>
<a name="l00200"></a>00200 <span class="comment">   &quot;___U&quot;) according to the ___XD conventions.  */</span>
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00203"></a><a class="code" href="ada-typeprint_8c.html#ac3da82e7dd15f014a03f97eab9f073e3">00203</a> <a class="code" href="ada-typeprint_8c.html#ac3da82e7dd15f014a03f97eab9f073e3">print_dynamic_range_bound</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a>, <span class="keywordtype">int</span> name_len,
<a name="l00204"></a>00204                            <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206   <span class="keyword">static</span> <span class="keywordtype">char</span> *name_buf = NULL;
<a name="l00207"></a>00207   <span class="keyword">static</span> <span class="keywordtype">size_t</span> name_buf_len = 0;
<a name="l00208"></a>00208   <a class="code" href="defs_8h.html#ac7647a3f71533007c9e128f3ddda1987">LONGEST</a> <a class="code" href="ia64-tdep_8c.html#aa7fb549cf7936f8264053676ad5a5115a3f2a77ecd272aa6d6b5902faa5e5fc68">B</a>;
<a name="l00209"></a>00209   <span class="keywordtype">int</span> OK;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211   <a class="code" href="ada-lang_8h.html#a48e9e90d45825a693f1690a4ebcb2a1e">GROW_VECT</a> (name_buf, name_buf_len, name_len + strlen (suffix) + 1);
<a name="l00212"></a>00212   strncpy (name_buf, name, name_len);
<a name="l00213"></a>00213   strcpy (name_buf + name_len, suffix);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   B = <a class="code" href="ada-lang_8c.html#a484727f9e5debb643d5912928f277dee">get_int_var_value</a> (name_buf, &amp;OK);
<a name="l00216"></a>00216   <span class="keywordflow">if</span> (OK)
<a name="l00217"></a>00217     <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (type, B, stream);
<a name="l00218"></a>00218   <span class="keywordflow">else</span>
<a name="l00219"></a>00219     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;?&quot;</span>);
<a name="l00220"></a>00220 }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">/* Print RAW_TYPE as a range type, using any bound information</span>
<a name="l00223"></a>00223 <span class="comment">   following the GNAT encoding (if available).  */</span>
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00226"></a><a class="code" href="ada-typeprint_8c.html#a4bdfafdb97a0286e11c8c1ac861c5e48">00226</a> <a class="code" href="ada-typeprint_8c.html#a4bdfafdb97a0286e11c8c1ac861c5e48">print_range_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *raw_type, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a>;
<a name="l00229"></a>00229   <span class="keyword">struct </span><a class="code" href="structtype.html">type</a> *base_type;
<a name="l00230"></a>00230   <span class="keyword">const</span> <span class="keywordtype">char</span> *subtype_info;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232   <a class="code" href="gdb__assert_8h.html#aeb007d3e990858c7ef8e40a7e512c1ff">gdb_assert</a> (raw_type != NULL);
<a name="l00233"></a>00233   name = <a class="code" href="gdbtypes_8h.html#a60f6434779617e9ff9c60121ceb25015">TYPE_NAME</a> (raw_type);
<a name="l00234"></a>00234   <a class="code" href="gdb__assert_8h.html#aeb007d3e990858c7ef8e40a7e512c1ff">gdb_assert</a> (name != NULL);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (raw_type) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a31cf8189b076711e63dea04c1136bafe">TYPE_CODE_RANGE</a>)
<a name="l00237"></a>00237     base_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (raw_type);
<a name="l00238"></a>00238   <span class="keywordflow">else</span>
<a name="l00239"></a>00239     base_type = raw_type;
<a name="l00240"></a>00240 
<a name="l00241"></a>00241   subtype_info = <a class="code" href="gdb__string_8h.html#a55c8e1e0e5f3578988a2feb0d417ad1c">strstr</a> (name, <span class="stringliteral">&quot;___XD&quot;</span>);
<a name="l00242"></a>00242   <span class="keywordflow">if</span> (subtype_info == NULL)
<a name="l00243"></a>00243     <a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">print_range</a> (raw_type, stream);
<a name="l00244"></a>00244   <span class="keywordflow">else</span>
<a name="l00245"></a>00245     {
<a name="l00246"></a>00246       <span class="keywordtype">int</span> prefix_len = subtype_info - <a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a>;
<a name="l00247"></a>00247       <span class="keywordtype">char</span> *bounds_str;
<a name="l00248"></a>00248       <span class="keywordtype">int</span> n;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250       subtype_info += 5;
<a name="l00251"></a>00251       bounds_str = <a class="code" href="gdb__string_8h.html#adf46aa8f2e08cfb505868bbfc88b5fd4">strchr</a> (subtype_info, <span class="charliteral">&#39;_&#39;</span>);
<a name="l00252"></a>00252       n = 1;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254       <span class="keywordflow">if</span> (*subtype_info == <span class="charliteral">&#39;L&#39;</span>)
<a name="l00255"></a>00255         {
<a name="l00256"></a>00256           <a class="code" href="ada-typeprint_8c.html#a16a1f17d68db1c17abcb848c807401c6">print_range_bound</a> (base_type, bounds_str, &amp;n, stream);
<a name="l00257"></a>00257           subtype_info += 1;
<a name="l00258"></a>00258         }
<a name="l00259"></a>00259       <span class="keywordflow">else</span>
<a name="l00260"></a>00260         <a class="code" href="ada-typeprint_8c.html#ac3da82e7dd15f014a03f97eab9f073e3">print_dynamic_range_bound</a> (base_type, name, prefix_len, <span class="stringliteral">&quot;___L&quot;</span>,
<a name="l00261"></a>00261                                    stream);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; .. &quot;</span>);
<a name="l00264"></a>00264 
<a name="l00265"></a>00265       <span class="keywordflow">if</span> (*subtype_info == <span class="charliteral">&#39;U&#39;</span>)
<a name="l00266"></a>00266         <a class="code" href="ada-typeprint_8c.html#a16a1f17d68db1c17abcb848c807401c6">print_range_bound</a> (base_type, bounds_str, &amp;n, stream);
<a name="l00267"></a>00267       <span class="keywordflow">else</span>
<a name="l00268"></a>00268         <a class="code" href="ada-typeprint_8c.html#ac3da82e7dd15f014a03f97eab9f073e3">print_dynamic_range_bound</a> (base_type, name, prefix_len, <span class="stringliteral">&quot;___U&quot;</span>,
<a name="l00269"></a>00269                                    stream);
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271 }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 <span class="comment">/* Print enumerated type TYPE on STREAM.  */</span>
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00276"></a><a class="code" href="ada-typeprint_8c.html#a35e05b0cd29c748cd2146fe436f84ec0">00276</a> <a class="code" href="ada-typeprint_8c.html#a35e05b0cd29c748cd2146fe436f84ec0">print_enum_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00277"></a>00277 {
<a name="l00278"></a>00278   <span class="keywordtype">int</span> <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a> = <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type);
<a name="l00279"></a>00279   <span class="keywordtype">int</span> i;
<a name="l00280"></a>00280   <a class="code" href="defs_8h.html#ac7647a3f71533007c9e128f3ddda1987">LONGEST</a> lastval;
<a name="l00281"></a>00281 
<a name="l00282"></a>00282   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;(&quot;</span>);
<a name="l00283"></a>00283   <a class="code" href="utils_8c.html#a857540a17ef1cd62fef4a33cc3b6a894">wrap_here</a> (<span class="stringliteral">&quot; &quot;</span>);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285   lastval = 0;
<a name="l00286"></a>00286   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a>; i++)
<a name="l00287"></a>00287     {
<a name="l00288"></a>00288       <a class="code" href="defs_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;
<a name="l00289"></a>00289       <span class="keywordflow">if</span> (i)
<a name="l00290"></a>00290         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00291"></a>00291       <a class="code" href="utils_8c.html#a857540a17ef1cd62fef4a33cc3b6a894">wrap_here</a> (<span class="stringliteral">&quot;    &quot;</span>);
<a name="l00292"></a>00292       <a class="code" href="utils_8c.html#a4b28488051faf9ab4a2f07633225835f">fputs_filtered</a> (<a class="code" href="ada-lang_8c.html#a42b8ed6c09b88e538db74d2b6013e09f">ada_enum_name</a> (<a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, i)), stream);
<a name="l00293"></a>00293       <span class="keywordflow">if</span> (lastval != <a class="code" href="gdbtypes_8h.html#a2ab26ef1ee13615e128e3cb3cd058a5c">TYPE_FIELD_ENUMVAL</a> (type, i))
<a name="l00294"></a>00294         {
<a name="l00295"></a>00295           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; =&gt; %s&quot;</span>,
<a name="l00296"></a>00296                             <a class="code" href="utils_8c.html#a707b1023c85049b17b9d1ca01c58768a">plongest</a> (<a class="code" href="gdbtypes_8h.html#a2ab26ef1ee13615e128e3cb3cd058a5c">TYPE_FIELD_ENUMVAL</a> (type, i)));
<a name="l00297"></a>00297           lastval = <a class="code" href="gdbtypes_8h.html#a2ab26ef1ee13615e128e3cb3cd058a5c">TYPE_FIELD_ENUMVAL</a> (type, i);
<a name="l00298"></a>00298         }
<a name="l00299"></a>00299       lastval += 1;
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <span class="comment">/* Print representation of Ada fixed-point type TYPE on STREAM.  */</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00307"></a><a class="code" href="ada-typeprint_8c.html#ad9565adceb06d7bbc50fa9bafc879087">00307</a> <a class="code" href="ada-typeprint_8c.html#ad9565adceb06d7bbc50fa9bafc879087">print_fixed_point_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00308"></a>00308 {
<a name="l00309"></a>00309   <a class="code" href="doublest_8h.html#ac1812677a2f11158956252854ec47a77">DOUBLEST</a> delta = <a class="code" href="ada-lang_8c.html#a5360743acec0df22ec50e005f4c7be15">ada_delta</a> (type);
<a name="l00310"></a>00310   <a class="code" href="doublest_8h.html#ac1812677a2f11158956252854ec47a77">DOUBLEST</a> small = <a class="code" href="ada-lang_8c.html#a0a599a683dbfa3b513b0bd6e1072f422">ada_fixed_to_float</a> (type, 1.0);
<a name="l00311"></a>00311 
<a name="l00312"></a>00312   <span class="keywordflow">if</span> (delta &lt; 0.0)
<a name="l00313"></a>00313     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;delta ??&quot;</span>);
<a name="l00314"></a>00314   <span class="keywordflow">else</span>
<a name="l00315"></a>00315     {
<a name="l00316"></a>00316       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;delta %g&quot;</span>, (<span class="keywordtype">double</span>) delta);
<a name="l00317"></a>00317       <span class="keywordflow">if</span> (delta != small)
<a name="l00318"></a>00318         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; &lt;&#39;small = %g&gt;&quot;</span>, (<span class="keywordtype">double</span>) small);
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320 }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="comment">/* Print simple (constrained) array type TYPE on STREAM.  LEVEL is the</span>
<a name="l00323"></a>00323 <span class="comment">   recursion (indentation) level, in case the element type itself has</span>
<a name="l00324"></a>00324 <span class="comment">   nested structure, and SHOW is the number of levels of internal</span>
<a name="l00325"></a>00325 <span class="comment">   structure to show (see ada_print_type).  */</span>
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00328"></a><a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">00328</a> <a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">print_array_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show,
<a name="l00329"></a>00329                   <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00330"></a>00330 {
<a name="l00331"></a>00331   <span class="keywordtype">int</span> bitsize;
<a name="l00332"></a>00332   <span class="keywordtype">int</span> n_indices;
<a name="l00333"></a>00333 
<a name="l00334"></a>00334   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#aa15cbb1ffc05648b3da71866bae9447f">ada_is_constrained_packed_array_type</a> (type))
<a name="l00335"></a>00335     type = <a class="code" href="ada-lang_8c.html#a08af5f804b36a05cc3a11fe364b5b57a">ada_coerce_to_simple_array_type</a> (type);
<a name="l00336"></a>00336 
<a name="l00337"></a>00337   bitsize = 0;
<a name="l00338"></a>00338   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;array (&quot;</span>);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340   <span class="keywordflow">if</span> (type == NULL)
<a name="l00341"></a>00341     {
<a name="l00342"></a>00342       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <a class="code" href="gdb__locale_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_</a>(<span class="stringliteral">&quot;&lt;undecipherable array type&gt;&quot;</span>));
<a name="l00343"></a>00343       <span class="keywordflow">return</span>;
<a name="l00344"></a>00344     }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346   n_indices = -1;
<a name="l00347"></a>00347   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a98ee7e79620d6af77ffd35c586fcf7bd">ada_is_simple_array_type</a> (type))
<a name="l00348"></a>00348     {
<a name="l00349"></a>00349       <span class="keyword">struct </span>type *range_desc_type;
<a name="l00350"></a>00350       <span class="keyword">struct </span>type *arr_type;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352       range_desc_type = <a class="code" href="ada-lang_8c.html#ade263e735047904b7eabe725cd6cc2f9">ada_find_parallel_type</a> (type, <span class="stringliteral">&quot;___XA&quot;</span>);
<a name="l00353"></a>00353       <a class="code" href="ada-lang_8c.html#ad725b7268112515bd22d705724724044">ada_fixup_array_indexes_type</a> (range_desc_type);
<a name="l00354"></a>00354 
<a name="l00355"></a>00355       bitsize = 0;
<a name="l00356"></a>00356       <span class="keywordflow">if</span> (range_desc_type == NULL)
<a name="l00357"></a>00357         {
<a name="l00358"></a>00358           <span class="keywordflow">for</span> (arr_type = type; <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (arr_type) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a00c795b43d1a39f57d3e222385f14fc0">TYPE_CODE_ARRAY</a>;
<a name="l00359"></a>00359                arr_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (arr_type))
<a name="l00360"></a>00360             {
<a name="l00361"></a>00361               <span class="keywordflow">if</span> (arr_type != type)
<a name="l00362"></a>00362                 <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00363"></a>00363               <a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">print_range</a> (<a class="code" href="gdbtypes_8h.html#a6448238a234e871dd78756230f4f57f1">TYPE_INDEX_TYPE</a> (arr_type), stream);
<a name="l00364"></a>00364               <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#abc55e4d1aac1dfb1c8183d412aca66b1">TYPE_FIELD_BITSIZE</a> (arr_type, 0) &gt; 0)
<a name="l00365"></a>00365                 bitsize = <a class="code" href="gdbtypes_8h.html#abc55e4d1aac1dfb1c8183d412aca66b1">TYPE_FIELD_BITSIZE</a> (arr_type, 0);
<a name="l00366"></a>00366             }
<a name="l00367"></a>00367         }
<a name="l00368"></a>00368       <span class="keywordflow">else</span>
<a name="l00369"></a>00369         {
<a name="l00370"></a>00370           <span class="keywordtype">int</span> k;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372           n_indices = <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (range_desc_type);
<a name="l00373"></a>00373           <span class="keywordflow">for</span> (k = 0, arr_type = type;
<a name="l00374"></a>00374                k &lt; n_indices;
<a name="l00375"></a>00375                k += 1, arr_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (arr_type))
<a name="l00376"></a>00376             {
<a name="l00377"></a>00377               <span class="keywordflow">if</span> (k &gt; 0)
<a name="l00378"></a>00378                 <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00379"></a>00379               <a class="code" href="ada-typeprint_8c.html#a4bdfafdb97a0286e11c8c1ac861c5e48">print_range_type</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (range_desc_type, k),
<a name="l00380"></a>00380                                 stream);
<a name="l00381"></a>00381               <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#abc55e4d1aac1dfb1c8183d412aca66b1">TYPE_FIELD_BITSIZE</a> (arr_type, 0) &gt; 0)
<a name="l00382"></a>00382                 bitsize = <a class="code" href="gdbtypes_8h.html#abc55e4d1aac1dfb1c8183d412aca66b1">TYPE_FIELD_BITSIZE</a> (arr_type, 0);
<a name="l00383"></a>00383             }
<a name="l00384"></a>00384         }
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386   <span class="keywordflow">else</span>
<a name="l00387"></a>00387     {
<a name="l00388"></a>00388       <span class="keywordtype">int</span> i, i0;
<a name="l00389"></a>00389 
<a name="l00390"></a>00390       <span class="keywordflow">for</span> (i = i0 = <a class="code" href="ada-lang_8c.html#ae9a1f2e16ad116a02636b91afd809c4b">ada_array_arity</a> (type); i &gt; 0; i -= 1)
<a name="l00391"></a>00391         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%s&lt;&gt;&quot;</span>, i == i0 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00392"></a>00392     }
<a name="l00393"></a>00393 
<a name="l00394"></a>00394   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;) of &quot;</span>);
<a name="l00395"></a>00395   <a class="code" href="utils_8c.html#a857540a17ef1cd62fef4a33cc3b6a894">wrap_here</a> (<span class="stringliteral">&quot;&quot;</span>);
<a name="l00396"></a>00396   <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="ada-lang_8c.html#a6d2b3240a3d6eabb276131b5753e804e">ada_array_element_type</a> (type, n_indices), <span class="stringliteral">&quot;&quot;</span>, stream,
<a name="l00397"></a>00397                   show == 0 ? 0 : show - 1, level + 1, flags);
<a name="l00398"></a>00398   <span class="keywordflow">if</span> (bitsize &gt; 0)
<a name="l00399"></a>00399     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; &lt;packed: %d-bit elements&gt;&quot;</span>, bitsize);
<a name="l00400"></a>00400 }
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="comment">/* Print the choices encoded by field FIELD_NUM of variant-part TYPE on</span>
<a name="l00403"></a>00403 <span class="comment">   STREAM, assuming that VAL_TYPE (if non-NULL) is the type of the</span>
<a name="l00404"></a>00404 <span class="comment">   values.  Return non-zero if the field is an encoding of</span>
<a name="l00405"></a>00405 <span class="comment">   discriminant values, as in a standard variant record, and 0 if the</span>
<a name="l00406"></a>00406 <span class="comment">   field is not so encoded (as happens with single-component variants</span>
<a name="l00407"></a>00407 <span class="comment">   in types annotated with pragma Unchecked_Variant).  */</span>
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00410"></a><a class="code" href="ada-typeprint_8c.html#ae8803a1ffbc9293375207728c2076c51">00410</a> <a class="code" href="ada-typeprint_8c.html#ae8803a1ffbc9293375207728c2076c51">print_choices</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keywordtype">int</span> field_num, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream,
<a name="l00411"></a>00411                <span class="keyword">struct</span> type *val_type)
<a name="l00412"></a>00412 {
<a name="l00413"></a>00413   <span class="keywordtype">int</span> have_output;
<a name="l00414"></a>00414   <span class="keywordtype">int</span> <a class="code" href="windows-nat_8c.html#ade66e4ccafbc33b117610bbc0d85feb0">p</a>;
<a name="l00415"></a>00415   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a> = <a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, field_num);
<a name="l00416"></a>00416 
<a name="l00417"></a>00417   have_output = 0;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419   <span class="comment">/* Skip over leading &#39;V&#39;: NOTE soon to be obsolete.  */</span>
<a name="l00420"></a>00420   <span class="keywordflow">if</span> (name[0] == <span class="charliteral">&#39;V&#39;</span>)
<a name="l00421"></a>00421     {
<a name="l00422"></a>00422       <span class="keywordflow">if</span> (!<a class="code" href="ada-lang_8c.html#ace9b2035b5472767719b10e8d2691e11">ada_scan_number</a> (name, 1, NULL, &amp;p))
<a name="l00423"></a>00423         <span class="keywordflow">goto</span> Huh;
<a name="l00424"></a>00424     }
<a name="l00425"></a>00425   <span class="keywordflow">else</span>
<a name="l00426"></a>00426     p = 0;
<a name="l00427"></a>00427 
<a name="l00428"></a>00428   <span class="keywordflow">while</span> (1)
<a name="l00429"></a>00429     {
<a name="l00430"></a>00430       <span class="keywordflow">switch</span> (name[p])
<a name="l00431"></a>00431         {
<a name="l00432"></a>00432         <span class="keywordflow">default</span>:
<a name="l00433"></a>00433           <span class="keywordflow">goto</span> Huh;
<a name="l00434"></a>00434         <span class="keywordflow">case</span> <span class="charliteral">&#39;_&#39;</span>:
<a name="l00435"></a>00435         <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:
<a name="l00436"></a>00436           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; =&gt;&quot;</span>);
<a name="l00437"></a>00437           <span class="keywordflow">return</span> 1;
<a name="l00438"></a>00438         <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:
<a name="l00439"></a>00439         <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:
<a name="l00440"></a>00440         <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:
<a name="l00441"></a>00441           <span class="keywordflow">if</span> (have_output)
<a name="l00442"></a>00442             <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; | &quot;</span>);
<a name="l00443"></a>00443           have_output = 1;
<a name="l00444"></a>00444           <span class="keywordflow">break</span>;
<a name="l00445"></a>00445         }
<a name="l00446"></a>00446 
<a name="l00447"></a>00447       <span class="keywordflow">switch</span> (name[p])
<a name="l00448"></a>00448         {
<a name="l00449"></a>00449         <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:
<a name="l00450"></a>00450           {
<a name="l00451"></a>00451             <a class="code" href="defs_8h.html#ac7647a3f71533007c9e128f3ddda1987">LONGEST</a> W;
<a name="l00452"></a>00452 
<a name="l00453"></a>00453             <span class="keywordflow">if</span> (!<a class="code" href="ada-lang_8c.html#ace9b2035b5472767719b10e8d2691e11">ada_scan_number</a> (name, p + 1, &amp;W, &amp;p))
<a name="l00454"></a>00454               <span class="keywordflow">goto</span> Huh;
<a name="l00455"></a>00455             <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (val_type, W, stream);
<a name="l00456"></a>00456             <span class="keywordflow">break</span>;
<a name="l00457"></a>00457           }
<a name="l00458"></a>00458         <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:
<a name="l00459"></a>00459           {
<a name="l00460"></a>00460             <a class="code" href="defs_8h.html#ac7647a3f71533007c9e128f3ddda1987">LONGEST</a> <a class="code" href="ia64-tdep_8c.html#aa7fb549cf7936f8264053676ad5a5115aef31cc6fe9479955961311ee18ac205f">L</a>, U;
<a name="l00461"></a>00461 
<a name="l00462"></a>00462             <span class="keywordflow">if</span> (!<a class="code" href="ada-lang_8c.html#ace9b2035b5472767719b10e8d2691e11">ada_scan_number</a> (name, p + 1, &amp;L, &amp;p)
<a name="l00463"></a>00463                 || name[p] != <span class="charliteral">&#39;T&#39;</span> || !<a class="code" href="ada-lang_8c.html#ace9b2035b5472767719b10e8d2691e11">ada_scan_number</a> (name, p + 1, &amp;U, &amp;p))
<a name="l00464"></a>00464               <span class="keywordflow">goto</span> Huh;
<a name="l00465"></a>00465             <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (val_type, L, stream);
<a name="l00466"></a>00466             <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; .. &quot;</span>);
<a name="l00467"></a>00467             <a class="code" href="ada-lang_8h.html#a26642426c02d598a1bc9caae498c7a35">ada_print_scalar</a> (val_type, U, stream);
<a name="l00468"></a>00468             <span class="keywordflow">break</span>;
<a name="l00469"></a>00469           }
<a name="l00470"></a>00470         <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:
<a name="l00471"></a>00471           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;others&quot;</span>);
<a name="l00472"></a>00472           p += 1;
<a name="l00473"></a>00473           <span class="keywordflow">break</span>;
<a name="l00474"></a>00474         }
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 Huh:
<a name="l00478"></a>00478   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;?? =&gt;&quot;</span>);
<a name="l00479"></a>00479   <span class="keywordflow">return</span> 0;
<a name="l00480"></a>00480 }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 <span class="comment">/* Assuming that field FIELD_NUM of TYPE represents variants whose</span>
<a name="l00483"></a>00483 <span class="comment">   discriminant is contained in OUTER_TYPE, print its components on STREAM.</span>
<a name="l00484"></a>00484 <span class="comment">   LEVEL is the recursion (indentation) level, in case any of the fields</span>
<a name="l00485"></a>00485 <span class="comment">   themselves have nested structure, and SHOW is the number of levels of </span>
<a name="l00486"></a>00486 <span class="comment">   internal structure to show (see ada_print_type).  For this purpose,</span>
<a name="l00487"></a>00487 <span class="comment">   fields nested in a variant part are taken to be at the same level as</span>
<a name="l00488"></a>00488 <span class="comment">   the fields immediately outside the variant part.  */</span>
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00491"></a><a class="code" href="ada-typeprint_8c.html#a736a1a337a32c7602924072ef9f21d2f">00491</a> <a class="code" href="ada-typeprint_8c.html#a736a1a337a32c7602924072ef9f21d2f">print_variant_clauses</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keywordtype">int</span> field_num,
<a name="l00492"></a>00492                        <span class="keyword">struct</span> type *outer_type, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream,
<a name="l00493"></a>00493                        <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00494"></a>00494                        <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00495"></a>00495 {
<a name="l00496"></a>00496   <span class="keywordtype">int</span> i;
<a name="l00497"></a>00497   <span class="keyword">struct </span>type *var_type, *par_type;
<a name="l00498"></a>00498   <span class="keyword">struct </span>type *discr_type;
<a name="l00499"></a>00499 
<a name="l00500"></a>00500   var_type = <a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, field_num);
<a name="l00501"></a>00501   discr_type = <a class="code" href="ada-lang_8c.html#a17ab4056d326fce2f610118e39da3fc7">ada_variant_discrim_type</a> (var_type, outer_type);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (var_type) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1a639160f3e3a2f9f7ac55255942c581">TYPE_CODE_PTR</a>)
<a name="l00504"></a>00504     {
<a name="l00505"></a>00505       var_type = <a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (var_type);
<a name="l00506"></a>00506       <span class="keywordflow">if</span> (var_type == NULL || <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (var_type) != <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a8c3218d2f780665395d57dcd4d909191">TYPE_CODE_UNION</a>)
<a name="l00507"></a>00507         <span class="keywordflow">return</span>;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510   par_type = <a class="code" href="ada-lang_8c.html#ade263e735047904b7eabe725cd6cc2f9">ada_find_parallel_type</a> (var_type, <span class="stringliteral">&quot;___XVU&quot;</span>);
<a name="l00511"></a>00511   <span class="keywordflow">if</span> (par_type != NULL)
<a name="l00512"></a>00512     var_type = par_type;
<a name="l00513"></a>00513 
<a name="l00514"></a>00514   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (var_type); i += 1)
<a name="l00515"></a>00515     {
<a name="l00516"></a>00516       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*swhen &quot;</span>, level + 4, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00517"></a>00517       <span class="keywordflow">if</span> (<a class="code" href="ada-typeprint_8c.html#ae8803a1ffbc9293375207728c2076c51">print_choices</a> (var_type, i, stream, discr_type))
<a name="l00518"></a>00518         {
<a name="l00519"></a>00519           <span class="keywordflow">if</span> (<a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (var_type, i),
<a name="l00520"></a>00520                                         outer_type, stream, show, level + 4,
<a name="l00521"></a>00521                                         flags)
<a name="l00522"></a>00522               &lt;= 0)
<a name="l00523"></a>00523             <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; null;&quot;</span>);
<a name="l00524"></a>00524         }
<a name="l00525"></a>00525       <span class="keywordflow">else</span>
<a name="l00526"></a>00526         <a class="code" href="ada-typeprint_8c.html#a9489f03fae54977be8f15587afaca057">print_selected_record_field_types</a> (var_type, outer_type, i, i,
<a name="l00527"></a>00527                                            stream, show, level + 4, flags);
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529 }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="comment">/* Assuming that field FIELD_NUM of TYPE is a variant part whose</span>
<a name="l00532"></a>00532 <span class="comment">   discriminants are contained in OUTER_TYPE, print a description of it</span>
<a name="l00533"></a>00533 <span class="comment">   on STREAM.  LEVEL is the recursion (indentation) level, in case any of</span>
<a name="l00534"></a>00534 <span class="comment">   the fields themselves have nested structure, and SHOW is the number of</span>
<a name="l00535"></a>00535 <span class="comment">   levels of internal structure to show (see ada_print_type).  For this</span>
<a name="l00536"></a>00536 <span class="comment">   purpose, fields nested in a variant part are taken to be at the same</span>
<a name="l00537"></a>00537 <span class="comment">   level as the fields immediately outside the variant part.  */</span>
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00540"></a><a class="code" href="ada-typeprint_8c.html#ac3c559d6614e7d3d3f9ca4a371278a32">00540</a> <a class="code" href="ada-typeprint_8c.html#ac3c559d6614e7d3d3f9ca4a371278a32">print_variant_part</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keywordtype">int</span> field_num, <span class="keyword">struct</span> type *outer_type,
<a name="l00541"></a>00541                     <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00542"></a>00542                     <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00543"></a>00543 {
<a name="l00544"></a>00544   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*scase %s is&quot;</span>, level + 4, <span class="stringliteral">&quot;&quot;</span>,
<a name="l00545"></a>00545                     <a class="code" href="ada-lang_8c.html#ada3cdba439483cae20c9779b19014135">ada_variant_discrim_name</a>
<a name="l00546"></a>00546                     (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, field_num)));
<a name="l00547"></a>00547   <a class="code" href="ada-typeprint_8c.html#a736a1a337a32c7602924072ef9f21d2f">print_variant_clauses</a> (type, field_num, outer_type, stream, show,
<a name="l00548"></a>00548                          level + 4, flags);
<a name="l00549"></a>00549   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*send case;&quot;</span>, level + 4, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 <span class="comment">/* Print a description on STREAM of the fields FLD0 through FLD1 in</span>
<a name="l00553"></a>00553 <span class="comment">   record or union type TYPE, whose discriminants are in OUTER_TYPE.</span>
<a name="l00554"></a>00554 <span class="comment">   LEVEL is the recursion (indentation) level, in case any of the</span>
<a name="l00555"></a>00555 <span class="comment">   fields themselves have nested structure, and SHOW is the number of</span>
<a name="l00556"></a>00556 <span class="comment">   levels of internal structure to show (see ada_print_type).  Does</span>
<a name="l00557"></a>00557 <span class="comment">   not print parent type information of TYPE.  Returns 0 if no fields</span>
<a name="l00558"></a>00558 <span class="comment">   printed, -1 for an incomplete type, else &gt; 0.  Prints each field</span>
<a name="l00559"></a>00559 <span class="comment">   beginning on a new line, but does not put a new line at end.  */</span>
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00562"></a><a class="code" href="ada-typeprint_8c.html#a9489f03fae54977be8f15587afaca057">00562</a> <a class="code" href="ada-typeprint_8c.html#a9489f03fae54977be8f15587afaca057">print_selected_record_field_types</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> type *outer_type,
<a name="l00563"></a>00563                                    <span class="keywordtype">int</span> fld0, <span class="keywordtype">int</span> fld1,
<a name="l00564"></a>00564                                    <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00565"></a>00565                                    <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00566"></a>00566 {
<a name="l00567"></a>00567   <span class="keywordtype">int</span> i, flds;
<a name="l00568"></a>00568 
<a name="l00569"></a>00569   flds = 0;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571   <span class="keywordflow">if</span> (fld0 &gt; fld1 &amp;&amp; <a class="code" href="gdbtypes_8h.html#aec5d0569d60af8ecfc5d2c7edae87d9c">TYPE_STUB</a> (type))
<a name="l00572"></a>00572     <span class="keywordflow">return</span> -1;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="keywordflow">for</span> (i = fld0; i &lt;= fld1; i += 1)
<a name="l00575"></a>00575     {
<a name="l00576"></a>00576       <a class="code" href="defs_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;
<a name="l00577"></a>00577 
<a name="l00578"></a>00578       <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a9e96ed25126c2b24b6361baf76456186">ada_is_parent_field</a> (type, i) || <a class="code" href="ada-lang_8c.html#ad9a44edc68931dbf99d0f64e7ec778d7">ada_is_ignored_field</a> (type, i))
<a name="l00579"></a>00579         ;
<a name="l00580"></a>00580       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#ab6ed5a863da98f196c38498f7512d30b">ada_is_wrapper_field</a> (type, i))
<a name="l00581"></a>00581         flds += <a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, i), type,
<a name="l00582"></a>00582                                           stream, show, level, flags);
<a name="l00583"></a>00583       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a370ccbe192d73c5795afa034113a4ffb">ada_is_variant_part</a> (type, i))
<a name="l00584"></a>00584         {
<a name="l00585"></a>00585           <a class="code" href="ada-typeprint_8c.html#ac3c559d6614e7d3d3f9ca4a371278a32">print_variant_part</a> (type, i, outer_type, stream, show, level, flags);
<a name="l00586"></a>00586           flds = 1;
<a name="l00587"></a>00587         }
<a name="l00588"></a>00588       <span class="keywordflow">else</span>
<a name="l00589"></a>00589         {
<a name="l00590"></a>00590           flds += 1;
<a name="l00591"></a>00591           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*s&quot;</span>, level + 4, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00592"></a>00592           <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, i),
<a name="l00593"></a>00593                           <a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, i),
<a name="l00594"></a>00594                           stream, show - 1, level + 4, flags);
<a name="l00595"></a>00595           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;;&quot;</span>);
<a name="l00596"></a>00596         }
<a name="l00597"></a>00597     }
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <span class="keywordflow">return</span> flds;
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 <span class="comment">/* Print a description on STREAM of all fields of record or union type</span>
<a name="l00603"></a>00603 <span class="comment">   TYPE, as for print_selected_record_field_types, above.  */</span>
<a name="l00604"></a>00604 
<a name="l00605"></a>00605 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00606"></a><a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">00606</a> <a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> type *outer_type,
<a name="l00607"></a>00607                           <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00608"></a>00608                           <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00609"></a>00609 {
<a name="l00610"></a>00610   <span class="keywordflow">return</span> <a class="code" href="ada-typeprint_8c.html#a9489f03fae54977be8f15587afaca057">print_selected_record_field_types</a> (type, outer_type,
<a name="l00611"></a>00611                                             0, <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type) - 1,
<a name="l00612"></a>00612                                             stream, show, level, flags);
<a name="l00613"></a>00613 }
<a name="l00614"></a>00614    
<a name="l00615"></a>00615 
<a name="l00616"></a>00616 <span class="comment">/* Print record type TYPE on STREAM.  LEVEL is the recursion (indentation)</span>
<a name="l00617"></a>00617 <span class="comment">   level, in case the element type itself has nested structure, and SHOW is</span>
<a name="l00618"></a>00618 <span class="comment">   the number of levels of internal structure to show (see ada_print_type).  */</span>
<a name="l00619"></a>00619 
<a name="l00620"></a>00620 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00621"></a><a class="code" href="ada-typeprint_8c.html#a757416773f739c9bf5dc76f25c88f2e7">00621</a> <a class="code" href="ada-typeprint_8c.html#a757416773f739c9bf5dc76f25c88f2e7">print_record_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *type0, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show,
<a name="l00622"></a>00622                    <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00623"></a>00623 {
<a name="l00624"></a>00624   <span class="keyword">struct </span><a class="code" href="structtype.html">type</a> *parent_type;
<a name="l00625"></a>00625   <span class="keyword">struct </span><a class="code" href="structtype.html">type</a> *<a class="code" href="language_8c.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>;
<a name="l00626"></a>00626 
<a name="l00627"></a>00627   type = <a class="code" href="ada-lang_8c.html#ade263e735047904b7eabe725cd6cc2f9">ada_find_parallel_type</a> (type0, <span class="stringliteral">&quot;___XVE&quot;</span>);
<a name="l00628"></a>00628   <span class="keywordflow">if</span> (type == NULL)
<a name="l00629"></a>00629     type = type0;
<a name="l00630"></a>00630 
<a name="l00631"></a>00631   parent_type = <a class="code" href="ada-lang_8c.html#ae55eca0a49184aa2817c429fe9d59686">ada_parent_type</a> (type);
<a name="l00632"></a>00632   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (parent_type) != NULL)
<a name="l00633"></a>00633     {
<a name="l00634"></a>00634       <span class="keyword">const</span> <span class="keywordtype">char</span> *parent_name = <a class="code" href="ada-typeprint_8c.html#a069a8c8173f14ddf07691b6334824170">decoded_type_name</a> (parent_type);
<a name="l00635"></a>00635 
<a name="l00636"></a>00636       <span class="comment">/* If we fail to decode the parent type name, then use the parent</span>
<a name="l00637"></a>00637 <span class="comment">         type name as is.  Not pretty, but should never happen except</span>
<a name="l00638"></a>00638 <span class="comment">         when the debugging info is incomplete or incorrect.  This</span>
<a name="l00639"></a>00639 <span class="comment">         prevents a crash trying to print a NULL pointer.  */</span>
<a name="l00640"></a>00640       <span class="keywordflow">if</span> (parent_name == NULL)
<a name="l00641"></a>00641         parent_name = <a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (parent_type);
<a name="l00642"></a>00642       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;new %s with record&quot;</span>, parent_name);
<a name="l00643"></a>00643     }
<a name="l00644"></a>00644   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parent_type == NULL &amp;&amp; <a class="code" href="ada-lang_8c.html#abbecc644387ffb0a43e57ed0462c2c8b">ada_is_tagged_type</a> (type, 0))
<a name="l00645"></a>00645     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;tagged record&quot;</span>);
<a name="l00646"></a>00646   <span class="keywordflow">else</span>
<a name="l00647"></a>00647     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;record&quot;</span>);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649   <span class="keywordflow">if</span> (show &lt; 0)
<a name="l00650"></a>00650     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; ... end record&quot;</span>);
<a name="l00651"></a>00651   <span class="keywordflow">else</span>
<a name="l00652"></a>00652     {
<a name="l00653"></a>00653       <span class="keywordtype">int</span> flds;
<a name="l00654"></a>00654 
<a name="l00655"></a>00655       flds = 0;
<a name="l00656"></a>00656       <span class="keywordflow">if</span> (parent_type != NULL &amp;&amp; <a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (parent_type) == NULL)
<a name="l00657"></a>00657         flds += <a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (parent_type, parent_type,
<a name="l00658"></a>00658                                           stream, show, level, flags);
<a name="l00659"></a>00659       flds += <a class="code" href="ada-typeprint_8c.html#a65d5c3a883c6aab7354cf216570db427">print_record_field_types</a> (type, type, stream, show, level,
<a name="l00660"></a>00660                                         flags);
<a name="l00661"></a>00661 
<a name="l00662"></a>00662       <span class="keywordflow">if</span> (flds &gt; 0)
<a name="l00663"></a>00663         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*send record&quot;</span>, level, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00664"></a>00664       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flds &lt; 0)
<a name="l00665"></a>00665         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <a class="code" href="gdb__locale_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_</a>(<span class="stringliteral">&quot; &lt;incomplete type&gt; end record&quot;</span>));
<a name="l00666"></a>00666       <span class="keywordflow">else</span>
<a name="l00667"></a>00667         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; null; end record&quot;</span>);
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 <span class="comment">/* Print the unchecked union type TYPE in something resembling Ada</span>
<a name="l00672"></a>00672 <span class="comment">   format on STREAM.  LEVEL is the recursion (indentation) level</span>
<a name="l00673"></a>00673 <span class="comment">   in case the element type itself has nested structure, and SHOW is the</span>
<a name="l00674"></a>00674 <span class="comment">   number of levels of internal structure to show (see ada_print_type).  */</span>
<a name="l00675"></a>00675 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00676"></a><a class="code" href="ada-typeprint_8c.html#af73b00ab9860fbbeca496242a68704e0">00676</a> <a class="code" href="ada-typeprint_8c.html#af73b00ab9860fbbeca496242a68704e0">print_unchecked_union_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream,
<a name="l00677"></a>00677                             <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00678"></a>00678                             <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00679"></a>00679 {
<a name="l00680"></a>00680   <span class="keywordflow">if</span> (show &lt; 0)
<a name="l00681"></a>00681     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;record (?) is ... end record&quot;</span>);
<a name="l00682"></a>00682   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type) == 0)
<a name="l00683"></a>00683     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;record (?) is null; end record&quot;</span>);
<a name="l00684"></a>00684   <span class="keywordflow">else</span>
<a name="l00685"></a>00685     {
<a name="l00686"></a>00686       <span class="keywordtype">int</span> i;
<a name="l00687"></a>00687 
<a name="l00688"></a>00688       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;record (?) is\n%*scase ? is&quot;</span>, level + 4, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00689"></a>00689 
<a name="l00690"></a>00690       <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type); i += 1)
<a name="l00691"></a>00691         {
<a name="l00692"></a>00692           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*swhen ? =&gt;\n%*s&quot;</span>, level + 8, <span class="stringliteral">&quot;&quot;</span>,
<a name="l00693"></a>00693                             level + 12, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00694"></a>00694           <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, i),
<a name="l00695"></a>00695                           <a class="code" href="gdbtypes_8h.html#a01947c4de3aced365e02aa6e8e6a9dc3">TYPE_FIELD_NAME</a> (type, i),
<a name="l00696"></a>00696                           stream, show - 1, level + 12, flags);
<a name="l00697"></a>00697           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;;&quot;</span>);
<a name="l00698"></a>00698         }
<a name="l00699"></a>00699 
<a name="l00700"></a>00700       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n%*send case;\n%*send record&quot;</span>,
<a name="l00701"></a>00701                         level + 4, <span class="stringliteral">&quot;&quot;</span>, level, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00702"></a>00702     }
<a name="l00703"></a>00703 }
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 <span class="comment">/* Print function or procedure type TYPE on STREAM.  Make it a header</span>
<a name="l00708"></a>00708 <span class="comment">   for function or procedure NAME if NAME is not null.  */</span>
<a name="l00709"></a>00709 
<a name="l00710"></a>00710 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00711"></a><a class="code" href="ada-typeprint_8c.html#afb2cc55a3a3675aa4b4d3bf900453058">00711</a> <a class="code" href="ada-typeprint_8c.html#afb2cc55a3a3675aa4b4d3bf900453058">print_func_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a>,
<a name="l00712"></a>00712                  <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00713"></a>00713 {
<a name="l00714"></a>00714   <span class="keywordtype">int</span> i, <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a> = <a class="code" href="gdbtypes_8h.html#a2872fd7f60b18f9cf1ed3227fc4441cd">TYPE_NFIELDS</a> (type);
<a name="l00715"></a>00715 
<a name="l00716"></a>00716   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (<a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type)) == <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462ad142a78789548b777dee1a3313e3e64f">TYPE_CODE_VOID</a>)
<a name="l00717"></a>00717     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;procedure&quot;</span>);
<a name="l00718"></a>00718   <span class="keywordflow">else</span>
<a name="l00719"></a>00719     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;function&quot;</span>);
<a name="l00720"></a>00720 
<a name="l00721"></a>00721   <span class="keywordflow">if</span> (name != NULL &amp;&amp; name[0] != <span class="charliteral">&#39;\0&#39;</span>)
<a name="l00722"></a>00722     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; %s&quot;</span>, name);
<a name="l00723"></a>00723 
<a name="l00724"></a>00724   <span class="keywordflow">if</span> (len &gt; 0)
<a name="l00725"></a>00725     {
<a name="l00726"></a>00726       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; (&quot;</span>);
<a name="l00727"></a>00727       <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="exec_8h.html#a00f945351279d3c8935f13d2b9f9b808">len</a>; i += 1)
<a name="l00728"></a>00728         {
<a name="l00729"></a>00729           <span class="keywordflow">if</span> (i &gt; 0)
<a name="l00730"></a>00730             {
<a name="l00731"></a>00731               <a class="code" href="utils_8c.html#a4b28488051faf9ab4a2f07633225835f">fputs_filtered</a> (<span class="stringliteral">&quot;; &quot;</span>, stream);
<a name="l00732"></a>00732               <a class="code" href="utils_8c.html#a857540a17ef1cd62fef4a33cc3b6a894">wrap_here</a> (<span class="stringliteral">&quot;    &quot;</span>);
<a name="l00733"></a>00733             }
<a name="l00734"></a>00734           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;a%d: &quot;</span>, i + 1);
<a name="l00735"></a>00735           <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a57f5958d4f2803d1e17748bcfa9c23c3">TYPE_FIELD_TYPE</a> (type, i), <span class="stringliteral">&quot;&quot;</span>, stream, -1, 0,
<a name="l00736"></a>00736                           flags);
<a name="l00737"></a>00737         }
<a name="l00738"></a>00738       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l00739"></a>00739     }
<a name="l00740"></a>00740 
<a name="l00741"></a>00741   <span class="keywordflow">if</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (<a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type)) != <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462ad142a78789548b777dee1a3313e3e64f">TYPE_CODE_VOID</a>)
<a name="l00742"></a>00742     {
<a name="l00743"></a>00743       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot; return &quot;</span>);
<a name="l00744"></a>00744       <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type), <span class="stringliteral">&quot;&quot;</span>, stream, 0, 0, flags);
<a name="l00745"></a>00745     }
<a name="l00746"></a>00746 }
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 <span class="comment">/* Print a description of a type TYPE0.</span>
<a name="l00750"></a>00750 <span class="comment">   Output goes to STREAM (via stdio).</span>
<a name="l00751"></a>00751 <span class="comment">   If VARSTRING is a non-empty string, print as an Ada variable/field</span>
<a name="l00752"></a>00752 <span class="comment">       declaration.</span>
<a name="l00753"></a>00753 <span class="comment">   SHOW+1 is the maximum number of levels of internal type structure</span>
<a name="l00754"></a>00754 <span class="comment">      to show (this applies to record types, enumerated types, and</span>
<a name="l00755"></a>00755 <span class="comment">      array types).</span>
<a name="l00756"></a>00756 <span class="comment">   SHOW is the number of levels of internal type structure to show</span>
<a name="l00757"></a>00757 <span class="comment">      when there is a type name for the SHOWth deepest level (0th is</span>
<a name="l00758"></a>00758 <span class="comment">      outer level).</span>
<a name="l00759"></a>00759 <span class="comment">   When SHOW&lt;0, no inner structure is shown.</span>
<a name="l00760"></a>00760 <span class="comment">   LEVEL indicates level of recursion (for nested definitions).  */</span>
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 <span class="keywordtype">void</span>
<a name="l00763"></a><a class="code" href="ada-typeprint_8c.html#affc364e3ce407a3f998d4954d51b39a7">00763</a> <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *type0, <span class="keyword">const</span> <span class="keywordtype">char</span> *varstring,
<a name="l00764"></a>00764                 <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream, <span class="keywordtype">int</span> show, <span class="keywordtype">int</span> level,
<a name="l00765"></a>00765                 <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtype__print__options.html">type_print_options</a> *<a class="code" href="solib-som_8c.html#a555096840020c318e34b205419e98cca">flags</a>)
<a name="l00766"></a>00766 {
<a name="l00767"></a>00767   <span class="keyword">struct </span><a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a> = <a class="code" href="ada-lang_8c.html#a3509e46d3d2b17b00602a54a0434be3c">ada_check_typedef</a> (<a class="code" href="ada-lang_8c.html#aac42a4c75acced2b75b65874ef51ead8">ada_get_base_type</a> (type0));
<a name="l00768"></a>00768   <span class="keywordtype">char</span> *type_name = <a class="code" href="ada-typeprint_8c.html#a069a8c8173f14ddf07691b6334824170">decoded_type_name</a> (type0);
<a name="l00769"></a>00769   <span class="keywordtype">int</span> is_var_decl = (varstring != NULL &amp;&amp; varstring[0] != <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00770"></a>00770 
<a name="l00771"></a>00771   <span class="keywordflow">if</span> (type == NULL)
<a name="l00772"></a>00772     {
<a name="l00773"></a>00773       <span class="keywordflow">if</span> (is_var_decl)
<a name="l00774"></a>00774         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%.*s: &quot;</span>,
<a name="l00775"></a>00775                           <a class="code" href="ada-lang_8c.html#aa5624d1411eb736cbb8426496fadcf45">ada_name_prefix_len</a> (varstring), varstring);
<a name="l00776"></a>00776       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;&lt;null type?&gt;&quot;</span>);
<a name="l00777"></a>00777       <span class="keywordflow">return</span>;
<a name="l00778"></a>00778     }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780   <span class="keywordflow">if</span> (show &gt; 0)
<a name="l00781"></a>00781     type = <a class="code" href="ada-lang_8c.html#a3509e46d3d2b17b00602a54a0434be3c">ada_check_typedef</a> (type);
<a name="l00782"></a>00782 
<a name="l00783"></a>00783   <span class="keywordflow">if</span> (is_var_decl &amp;&amp; <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type) != <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a4b6327934915849a4e96eef151fe312b">TYPE_CODE_FUNC</a>)
<a name="l00784"></a>00784     <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%.*s: &quot;</span>,
<a name="l00785"></a>00785                       <a class="code" href="ada-lang_8c.html#aa5624d1411eb736cbb8426496fadcf45">ada_name_prefix_len</a> (varstring), varstring);
<a name="l00786"></a>00786 
<a name="l00787"></a>00787   <span class="keywordflow">if</span> (type_name != NULL &amp;&amp; show &lt;= 0 &amp;&amp; !<a class="code" href="ada-lang_8c.html#ac972c52cf860cdffae561d774c2f3258">ada_is_aligner_type</a> (type))
<a name="l00788"></a>00788     {
<a name="l00789"></a>00789       <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;%.*s&quot;</span>,
<a name="l00790"></a>00790                         <a class="code" href="ada-lang_8c.html#aa5624d1411eb736cbb8426496fadcf45">ada_name_prefix_len</a> (type_name), type_name);
<a name="l00791"></a>00791       <span class="keywordflow">return</span>;
<a name="l00792"></a>00792     }
<a name="l00793"></a>00793 
<a name="l00794"></a>00794   <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#ac972c52cf860cdffae561d774c2f3258">ada_is_aligner_type</a> (type))
<a name="l00795"></a>00795     <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="ada-lang_8c.html#a67d9e8121909114afa44a208819f932f">ada_aligned_type</a> (type), <span class="stringliteral">&quot;&quot;</span>, stream, show, level, flags);
<a name="l00796"></a>00796   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#aa15cbb1ffc05648b3da71866bae9447f">ada_is_constrained_packed_array_type</a> (type)
<a name="l00797"></a>00797            &amp;&amp; <a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type) != <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1a639160f3e3a2f9f7ac55255942c581">TYPE_CODE_PTR</a>)
<a name="l00798"></a>00798     <a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">print_array_type</a> (type, stream, show, level, flags);
<a name="l00799"></a>00799   <span class="keywordflow">else</span>
<a name="l00800"></a>00800     <span class="keywordflow">switch</span> (<a class="code" href="gdbtypes_8h.html#a9505f41c7012665947c6b4065ce190e1">TYPE_CODE</a> (type))
<a name="l00801"></a>00801       {
<a name="l00802"></a>00802       <span class="keywordflow">default</span>:
<a name="l00803"></a>00803         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;&lt;&quot;</span>);
<a name="l00804"></a>00804         <a class="code" href="c-lang_8h.html#aaf84d638c9714765572c1f68880410f4">c_print_type</a> (type, <span class="stringliteral">&quot;&quot;</span>, stream, show, level, flags);
<a name="l00805"></a>00805         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;&gt;&quot;</span>);
<a name="l00806"></a>00806         <span class="keywordflow">break</span>;
<a name="l00807"></a>00807       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1a639160f3e3a2f9f7ac55255942c581">TYPE_CODE_PTR</a>:
<a name="l00808"></a>00808       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462abd0f09e6db7ab38fde35eabec26f1d77">TYPE_CODE_TYPEDEF</a>:
<a name="l00809"></a>00809         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;access &quot;</span>);
<a name="l00810"></a>00810         <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type), <span class="stringliteral">&quot;&quot;</span>, stream, show, level,
<a name="l00811"></a>00811                         flags);
<a name="l00812"></a>00812         <span class="keywordflow">break</span>;
<a name="l00813"></a>00813       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a476430709e5a251f7e0f8e3fb48a713f">TYPE_CODE_REF</a>:
<a name="l00814"></a>00814         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;&lt;ref&gt; &quot;</span>);
<a name="l00815"></a>00815         <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (<a class="code" href="gdbtypes_8h.html#a87a33d723acd28a033e63c4297c6c916">TYPE_TARGET_TYPE</a> (type), <span class="stringliteral">&quot;&quot;</span>, stream, show, level,
<a name="l00816"></a>00816                         flags);
<a name="l00817"></a>00817         <span class="keywordflow">break</span>;
<a name="l00818"></a>00818       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a00c795b43d1a39f57d3e222385f14fc0">TYPE_CODE_ARRAY</a>:
<a name="l00819"></a>00819         <a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">print_array_type</a> (type, stream, show, level, flags);
<a name="l00820"></a>00820         <span class="keywordflow">break</span>;
<a name="l00821"></a>00821       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462afbf0aa0241df408e1017ae7ff8e6798c">TYPE_CODE_BOOL</a>:
<a name="l00822"></a>00822         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;(false, true)&quot;</span>);
<a name="l00823"></a>00823         <span class="keywordflow">break</span>;
<a name="l00824"></a>00824       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a7071a71840688811b992838bb09d0ddd">TYPE_CODE_INT</a>:
<a name="l00825"></a>00825         <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#afe50295540937b9ae0f68f2be4794f18">ada_is_fixed_point_type</a> (type))
<a name="l00826"></a>00826           <a class="code" href="ada-typeprint_8c.html#ad9565adceb06d7bbc50fa9bafc879087">print_fixed_point_type</a> (type, stream);
<a name="l00827"></a>00827         <span class="keywordflow">else</span>
<a name="l00828"></a>00828           {
<a name="l00829"></a>00829             <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aarch64-tdep_8c.html#acc128f98d9ceca227038c771308eff39">name</a> = <a class="code" href="ada-lang_8c.html#a50675eaca9783535883cedf2185b0a75">ada_type_name</a> (type);
<a name="l00830"></a>00830 
<a name="l00831"></a>00831             <span class="keywordflow">if</span> (!<a class="code" href="ada-lang_8c.html#ab593cab72d4a5a415694dbccdc0365fc">ada_is_range_type_name</a> (name))
<a name="l00832"></a>00832               <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <a class="code" href="gdb__locale_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_</a>(<span class="stringliteral">&quot;&lt;%d-byte integer&gt;&quot;</span>),
<a name="l00833"></a>00833                                 <a class="code" href="gdbtypes_8h.html#aeac33f868e763780094aec8a2dcb9a1a">TYPE_LENGTH</a> (type));
<a name="l00834"></a>00834             <span class="keywordflow">else</span>
<a name="l00835"></a>00835               {
<a name="l00836"></a>00836                 <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;range &quot;</span>);
<a name="l00837"></a>00837                 <a class="code" href="ada-typeprint_8c.html#a4bdfafdb97a0286e11c8c1ac861c5e48">print_range_type</a> (type, stream);
<a name="l00838"></a>00838               }
<a name="l00839"></a>00839           }
<a name="l00840"></a>00840         <span class="keywordflow">break</span>;
<a name="l00841"></a>00841       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a31cf8189b076711e63dea04c1136bafe">TYPE_CODE_RANGE</a>:
<a name="l00842"></a>00842         <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#afe50295540937b9ae0f68f2be4794f18">ada_is_fixed_point_type</a> (type))
<a name="l00843"></a>00843           <a class="code" href="ada-typeprint_8c.html#ad9565adceb06d7bbc50fa9bafc879087">print_fixed_point_type</a> (type, stream);
<a name="l00844"></a>00844         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a3f7ddcd366cd67c24fb3c7b2431abeb9">ada_is_modular_type</a> (type))
<a name="l00845"></a>00845           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;mod %s&quot;</span>, 
<a name="l00846"></a>00846                             <a class="code" href="utils_8c.html#a3ce8e8de91440036fe0ce3f1e00b5666">int_string</a> (<a class="code" href="ada-lang_8c.html#a357116c53325c29524dfd0ccff308754">ada_modulus</a> (type), 10, 0, 0, 1));
<a name="l00847"></a>00847         <span class="keywordflow">else</span>
<a name="l00848"></a>00848           {
<a name="l00849"></a>00849             <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;range &quot;</span>);
<a name="l00850"></a>00850             <a class="code" href="ada-typeprint_8c.html#a0844d4e17a861a70e811f0284db0f43e">print_range</a> (type, stream);
<a name="l00851"></a>00851           }
<a name="l00852"></a>00852         <span class="keywordflow">break</span>;
<a name="l00853"></a>00853       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a98f3aa25f923ee0cd1d009e77b0a551a">TYPE_CODE_FLT</a>:
<a name="l00854"></a>00854         <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <a class="code" href="gdb__locale_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_</a>(<span class="stringliteral">&quot;&lt;%d-byte float&gt;&quot;</span>), <a class="code" href="gdbtypes_8h.html#aeac33f868e763780094aec8a2dcb9a1a">TYPE_LENGTH</a> (type));
<a name="l00855"></a>00855         <span class="keywordflow">break</span>;
<a name="l00856"></a>00856       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a1afbc1e8f69012b205070a3b5eac7217">TYPE_CODE_ENUM</a>:
<a name="l00857"></a>00857         <span class="keywordflow">if</span> (show &lt; 0)
<a name="l00858"></a>00858           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;(...)&quot;</span>);
<a name="l00859"></a>00859         <span class="keywordflow">else</span>
<a name="l00860"></a>00860           <a class="code" href="ada-typeprint_8c.html#a35e05b0cd29c748cd2146fe436f84ec0">print_enum_type</a> (type, stream);
<a name="l00861"></a>00861         <span class="keywordflow">break</span>;
<a name="l00862"></a>00862       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462af3b3fc76f66c95e12946c0ef84409365">TYPE_CODE_STRUCT</a>:
<a name="l00863"></a>00863         <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#a7089d9f2c5f1ef0855301c3b4a0fdd91">ada_is_array_descriptor_type</a> (type))
<a name="l00864"></a>00864           <a class="code" href="ada-typeprint_8c.html#a2b37a8d0e816df5389fec4de52d6ee70">print_array_type</a> (type, stream, show, level, flags);
<a name="l00865"></a>00865         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ada-lang_8c.html#ad52f9674c514aacff59ea5803e354f89">ada_is_bogus_array_descriptor</a> (type))
<a name="l00866"></a>00866           <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream,
<a name="l00867"></a>00867                             <a class="code" href="gdb__locale_8h.html#a32a3cf3d9dd914f5aeeca5423c157934">_</a>(<span class="stringliteral">&quot;array (?) of ? (&lt;mal-formed descriptor&gt;)&quot;</span>));
<a name="l00868"></a>00868         <span class="keywordflow">else</span>
<a name="l00869"></a>00869           <a class="code" href="ada-typeprint_8c.html#a757416773f739c9bf5dc76f25c88f2e7">print_record_type</a> (type, stream, show, level, flags);
<a name="l00870"></a>00870         <span class="keywordflow">break</span>;
<a name="l00871"></a>00871       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a8c3218d2f780665395d57dcd4d909191">TYPE_CODE_UNION</a>:
<a name="l00872"></a>00872         <a class="code" href="ada-typeprint_8c.html#af73b00ab9860fbbeca496242a68704e0">print_unchecked_union_type</a> (type, stream, show, level, flags);
<a name="l00873"></a>00873         <span class="keywordflow">break</span>;
<a name="l00874"></a>00874       <span class="keywordflow">case</span> <a class="code" href="gdbtypes_8h.html#a90e2a0fddaa6afff6a0a489ff4da3462a4b6327934915849a4e96eef151fe312b">TYPE_CODE_FUNC</a>:
<a name="l00875"></a>00875         <a class="code" href="ada-typeprint_8c.html#afb2cc55a3a3675aa4b4d3bf900453058">print_func_type</a> (type, stream, varstring, flags);
<a name="l00876"></a>00876         <span class="keywordflow">break</span>;
<a name="l00877"></a>00877       }
<a name="l00878"></a>00878 }
<a name="l00879"></a>00879 
<a name="l00880"></a>00880 <span class="comment">/* Implement the la_print_typedef language method for Ada.  */</span>
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 <span class="keywordtype">void</span>
<a name="l00883"></a><a class="code" href="ada-typeprint_8c.html#a570412c72d613e09fe911d2c6d49be10">00883</a> <a class="code" href="ada-lang_8h.html#a570412c72d613e09fe911d2c6d49be10">ada_print_typedef</a> (<span class="keyword">struct</span> <a class="code" href="structtype.html">type</a> *<a class="code" href="structtype.html">type</a>, <span class="keyword">struct</span> <a class="code" href="structsymbol.html">symbol</a> *<a class="code" href="dwarf2read_8c.html#a4b79d225399dba2c4a3397a858440dd4">new_symbol</a>,
<a name="l00884"></a>00884                    <span class="keyword">struct</span> <a class="code" href="structui__file.html">ui_file</a> *stream)
<a name="l00885"></a>00885 {
<a name="l00886"></a>00886   type = <a class="code" href="ada-lang_8c.html#a3509e46d3d2b17b00602a54a0434be3c">ada_check_typedef</a> (type);
<a name="l00887"></a>00887   <a class="code" href="ada-lang_8h.html#a30df4f3f0e5ed3346f73d2be79adcfbc">ada_print_type</a> (type, <span class="stringliteral">&quot;&quot;</span>, stream, 0, 0, &amp;<a class="code" href="typeprint_8c.html#a66053927e0c2e901b62bd36fd9769296">type_print_raw_options</a>);
<a name="l00888"></a>00888   <a class="code" href="utils_8c.html#aaa819b1a6c0b6c4090bdc0b027eaf64b">fprintf_filtered</a> (stream, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00889"></a>00889 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 11 2013 14:13:22 for GDB (xrefs) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
